var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function a(e,t,n,r){if(e){const s=l(e,t,n,r);return e[0](s)}}function l(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function c(e,t,n,r,s,o,i){const a=function(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}(t,r,s,o);if(a){const s=l(t,n,r,i);e.p(s,a)}}function u(e){return null==e?"":e}function h(e,t,n=t){return e.set(n),t}function p(e,t){e.appendChild(t)}function f(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode.removeChild(e)}function m(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function E(e){return document.createTextNode(e)}function $(){return E(" ")}function v(){return E("")}function y(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function I(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function S(e){return""===e?null:+e}function b(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function _(e,t){e.value=null==t?"":t}function w(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function M(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function N(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function A(e,t,n){e.classList[n?"add":"remove"](t)}let R;function x(e){R=e}function T(){if(!R)throw new Error("Function called outside component initialization");return R}function C(e){T().$$.on_destroy.push(e)}function O(){const e=T();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const s=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);r.slice().forEach((t=>{t.call(e,s)}))}}}function D(e){return T().$$.context.get(e)}const L=[],P=[],G=[],k=[],H=Promise.resolve();let F=!1;function B(e){G.push(e)}function j(e){k.push(e)}let U=!1;const V=new Set;function Y(){if(!U){U=!0;do{for(let e=0;e<L.length;e+=1){const t=L[e];x(t),X(t.$$)}for(x(null),L.length=0;P.length;)P.pop()();for(let e=0;e<G.length;e+=1){const t=G[e];V.has(t)||(V.add(t),t())}G.length=0}while(L.length);for(;k.length;)k.pop()();F=!1,U=!1,V.clear()}}function X(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(B)}}const q=new Set;let W;function z(){W={r:0,c:[],p:W}}function J(){W.r||r(W.c),W=W.p}function Z(e,t){e&&e.i&&(q.delete(e),e.i(t))}function Q(e,t,n,r){if(e&&e.o){if(q.has(e))return;q.add(e),W.c.push((()=>{q.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function K(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function ee(e){e&&e.c()}function te(e,n,o){const{fragment:i,on_mount:a,on_destroy:l,after_update:c}=e.$$;i&&i.m(n,o),B((()=>{const n=a.map(t).filter(s);l?l.push(...n):r(n),e.$$.on_mount=[]})),c.forEach(B)}function ne(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function re(e,t){-1===e.$$.dirty[0]&&(L.push(e),F||(F=!0,H.then(Y)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function se(t,s,o,i,a,l,c=[-1]){const u=R;x(t);const h=s.props||{},p=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let f=!1;if(p.ctx=o?o(t,h,((e,n,...r)=>{const s=r.length?r[0]:n;return p.ctx&&a(p.ctx[e],p.ctx[e]=s)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](s),f&&re(t,e)),n})):[],p.update(),f=!0,r(p.before_update),p.fragment=!!i&&i(p.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);p.fragment&&p.fragment.l(e),e.forEach(d)}else p.fragment&&p.fragment.c();s.intro&&Z(t.$$.fragment),te(t,s.target,s.anchor),Y()}x(u)}class oe{$destroy(){ne(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ae(e,t){return e(t={exports:{}},t.exports),t.exports}var le={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16};var ce="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{},ue=ae((function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n}=le,r=(t=e.exports={}).re=[],s=t.src=[],o=t.t={};let i=0;const a=(e,t,n)=>{const a=i++;ce(a,t),o[e]=a,s[a]=t,r[a]=new RegExp(t,n?"g":void 0)};a("NUMERICIDENTIFIER","0|[1-9]\\d*"),a("NUMERICIDENTIFIERLOOSE","[0-9]+"),a("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),a("MAINVERSION",`(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})`),a("MAINVERSIONLOOSE",`(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})`),a("PRERELEASEIDENTIFIER",`(?:${s[o.NUMERICIDENTIFIER]}|${s[o.NONNUMERICIDENTIFIER]})`),a("PRERELEASEIDENTIFIERLOOSE",`(?:${s[o.NUMERICIDENTIFIERLOOSE]}|${s[o.NONNUMERICIDENTIFIER]})`),a("PRERELEASE",`(?:-(${s[o.PRERELEASEIDENTIFIER]}(?:\\.${s[o.PRERELEASEIDENTIFIER]})*))`),a("PRERELEASELOOSE",`(?:-?(${s[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[o.PRERELEASEIDENTIFIERLOOSE]})*))`),a("BUILDIDENTIFIER","[0-9A-Za-z-]+"),a("BUILD",`(?:\\+(${s[o.BUILDIDENTIFIER]}(?:\\.${s[o.BUILDIDENTIFIER]})*))`),a("FULLPLAIN",`v?${s[o.MAINVERSION]}${s[o.PRERELEASE]}?${s[o.BUILD]}?`),a("FULL",`^${s[o.FULLPLAIN]}$`),a("LOOSEPLAIN",`[v=\\s]*${s[o.MAINVERSIONLOOSE]}${s[o.PRERELEASELOOSE]}?${s[o.BUILD]}?`),a("LOOSE",`^${s[o.LOOSEPLAIN]}$`),a("GTLT","((?:<|>)?=?)"),a("XRANGEIDENTIFIERLOOSE",`${s[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),a("XRANGEIDENTIFIER",`${s[o.NUMERICIDENTIFIER]}|x|X|\\*`),a("XRANGEPLAIN",`[v=\\s]*(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:${s[o.PRERELEASE]})?${s[o.BUILD]}?)?)?`),a("XRANGEPLAINLOOSE",`[v=\\s]*(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:${s[o.PRERELEASELOOSE]})?${s[o.BUILD]}?)?)?`),a("XRANGE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAIN]}$`),a("XRANGELOOSE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAINLOOSE]}$`),a("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),a("COERCERTL",s[o.COERCE],!0),a("LONETILDE","(?:~>?)"),a("TILDETRIM",`(\\s*)${s[o.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",a("TILDE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAIN]}$`),a("TILDELOOSE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAINLOOSE]}$`),a("LONECARET","(?:\\^)"),a("CARETTRIM",`(\\s*)${s[o.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",a("CARET",`^${s[o.LONECARET]}${s[o.XRANGEPLAIN]}$`),a("CARETLOOSE",`^${s[o.LONECARET]}${s[o.XRANGEPLAINLOOSE]}$`),a("COMPARATORLOOSE",`^${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]})$|^$`),a("COMPARATOR",`^${s[o.GTLT]}\\s*(${s[o.FULLPLAIN]})$|^$`),a("COMPARATORTRIM",`(\\s*)${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]}|${s[o.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",a("HYPHENRANGE",`^\\s*(${s[o.XRANGEPLAIN]})\\s+-\\s+(${s[o.XRANGEPLAIN]})\\s*$`),a("HYPHENRANGELOOSE",`^\\s*(${s[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[o.XRANGEPLAINLOOSE]})\\s*$`),a("STAR","(<|>)?=?\\s*\\*"),a("GTE0","^\\s*>=\\s*0.0.0\\s*$"),a("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}));ue.re,ue.src,ue.t,ue.tildeTrimReplace,ue.caretTrimReplace,ue.comparatorTrimReplace;const he=["includePrerelease","loose","rtl"];var pe=e=>e?"object"!=typeof e?{loose:!0}:he.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{};const fe=/^[0-9]+$/,de=(e,t)=>{const n=fe.test(e),r=fe.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1};var me={compareIdentifiers:de,rcompareIdentifiers:(e,t)=>de(t,e)};const{MAX_LENGTH:ge,MAX_SAFE_INTEGER:Ee}=le,{re:$e,t:ve}=ue,{compareIdentifiers:ye}=me;class Ie{constructor(e,t){if(t=pe(t),e instanceof Ie){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>ge)throw new TypeError(`version is longer than ${ge} characters`);ce("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?$e[ve.LOOSE]:$e[ve.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ee||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ee||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ee||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<Ee)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ce("SemVer.compare",this.version,this.options,e),!(e instanceof Ie)){if("string"==typeof e&&e===this.version)return 0;e=new Ie(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Ie||(e=new Ie(e,this.options)),ye(this.major,e.major)||ye(this.minor,e.minor)||ye(this.patch,e.patch)}comparePre(e){if(e instanceof Ie||(e=new Ie(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],r=e.prerelease[t];if(ce("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return ye(n,r)}while(++t)}compareBuild(e){e instanceof Ie||(e=new Ie(e,this.options));let t=0;do{const n=this.build[t],r=e.build[t];if(ce("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return ye(n,r)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var Se=Ie;const{MAX_LENGTH:be}=le,{re:_e,t:we}=ue;var Me=(e,t)=>{if(t=pe(t),e instanceof Se)return e;if("string"!=typeof e)return null;if(e.length>be)return null;if(!(t.loose?_e[we.LOOSE]:_e[we.FULL]).test(e))return null;try{return new Se(e,t)}catch(e){return null}};var Ne=(e,t)=>{const n=Me(e,t);return n?n.version:null};var Ae=(e,t)=>{const n=Me(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};var Re=(e,t,n,r)=>{"string"==typeof n&&(r=n,n=void 0);try{return new Se(e,n).inc(t,r).version}catch(e){return null}};var xe=(e,t,n)=>new Se(e,n).compare(new Se(t,n));var Te=(e,t,n)=>0===xe(e,t,n);var Ce=(e,t)=>{if(Te(e,t))return null;{const n=Me(e),r=Me(t),s=n.prerelease.length||r.prerelease.length,o=s?"pre":"",i=s?"prerelease":"";for(const e in n)if(("major"===e||"minor"===e||"patch"===e)&&n[e]!==r[e])return o+e;return i}};var Oe=(e,t)=>new Se(e,t).major;var De=(e,t)=>new Se(e,t).minor;var Le=(e,t)=>new Se(e,t).patch;var Pe=(e,t)=>{const n=Me(e,t);return n&&n.prerelease.length?n.prerelease:null};var Ge=(e,t,n)=>xe(t,e,n);var ke=(e,t)=>xe(e,t,!0);var He=(e,t,n)=>{const r=new Se(e,n),s=new Se(t,n);return r.compare(s)||r.compareBuild(s)};var Fe=(e,t)=>e.sort(((e,n)=>He(e,n,t)));var Be=(e,t)=>e.sort(((e,n)=>He(n,e,t)));var je=(e,t,n)=>xe(e,t,n)>0;var Ue=(e,t,n)=>xe(e,t,n)<0;var Ve=(e,t,n)=>0!==xe(e,t,n);var Ye=(e,t,n)=>xe(e,t,n)>=0;var Xe=(e,t,n)=>xe(e,t,n)<=0;var qe=(e,t,n,r)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Te(e,n,r);case"!=":return Ve(e,n,r);case">":return je(e,n,r);case">=":return Ye(e,n,r);case"<":return Ue(e,n,r);case"<=":return Xe(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};const{re:We,t:ze}=ue;var Je=(e,t)=>{if(e instanceof Se)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=We[ze.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),We[ze.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;We[ze.COERCERTL].lastIndex=-1}else n=e.match(We[ze.COERCE]);return null===n?null:Me(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)},Ze=Qe;function Qe(e){var t=this;if(t instanceof Qe||(t=new Qe),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}function Ke(e,t,n){var r=t===e.head?new nt(n,null,t,e):new nt(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function et(e,t){e.tail=new nt(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function tt(e,t){e.head=new nt(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function nt(e,t,n,r){if(!(this instanceof nt))return new nt(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}Qe.Node=nt,Qe.create=Qe,Qe.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},Qe.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},Qe.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},Qe.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)et(this,arguments[e]);return this.length},Qe.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)tt(this,arguments[e]);return this.length},Qe.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},Qe.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},Qe.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},Qe.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},Qe.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},Qe.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},Qe.prototype.map=function(e,t){t=t||this;for(var n=new Qe,r=this.head;null!==r;)n.push(e.call(t,r.value,this)),r=r.next;return n},Qe.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Qe,r=this.tail;null!==r;)n.push(e.call(t,r.value,this)),r=r.prev;return n},Qe.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var s=0;null!==r;s++)n=e(n,r.value,s),r=r.next;return n},Qe.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var s=this.length-1;null!==r;s--)n=e(n,r.value,s),r=r.prev;return n},Qe.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},Qe.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},Qe.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new Qe;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,s=this.head;null!==s&&r<e;r++)s=s.next;for(;null!==s&&r<t;r++,s=s.next)n.push(s.value);return n},Qe.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new Qe;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,s=this.tail;null!==s&&r>t;r--)s=s.prev;for(;null!==s&&r>e;r--,s=s.prev)n.push(s.value);return n},Qe.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,s=this.head;null!==s&&r<e;r++)s=s.next;var o=[];for(r=0;s&&r<t;r++)o.push(s.value),s=this.removeNode(s);null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(r=0;r<n.length;r++)s=Ke(this,s,n[r]);return o},Qe.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{!function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}(Qe)}catch(e){}const rt=Symbol("max"),st=Symbol("length"),ot=Symbol("lengthCalculator"),it=Symbol("allowStale"),at=Symbol("maxAge"),lt=Symbol("dispose"),ct=Symbol("noDisposeOnSet"),ut=Symbol("lruList"),ht=Symbol("cache"),pt=Symbol("updateAgeOnGet"),ft=()=>1;const dt=(e,t,n)=>{const r=e[ht].get(t);if(r){const t=r.value;if(mt(e,t)){if(Et(e,r),!e[it])return}else n&&(e[pt]&&(r.value.now=Date.now()),e[ut].unshiftNode(r));return t.value}},mt=(e,t)=>{if(!t||!t.maxAge&&!e[at])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[at]&&n>e[at]},gt=e=>{if(e[st]>e[rt])for(let t=e[ut].tail;e[st]>e[rt]&&null!==t;){const n=t.prev;Et(e,t),t=n}},Et=(e,t)=>{if(t){const n=t.value;e[lt]&&e[lt](n.key,n.value),e[st]-=n.length,e[ht].delete(n.key),e[ut].removeNode(t)}};class $t{constructor(e,t,n,r,s){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=s||0}}const vt=(e,t,n,r)=>{let s=n.value;mt(e,s)&&(Et(e,n),e[it]||(s=void 0)),s&&t.call(r,s.value,s.key,e)};var yt=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[rt]=e.max||1/0;const t=e.length||ft;if(this[ot]="function"!=typeof t?ft:t,this[it]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[at]=e.maxAge||0,this[lt]=e.dispose,this[ct]=e.noDisposeOnSet||!1,this[pt]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[rt]=e||1/0,gt(this)}get max(){return this[rt]}set allowStale(e){this[it]=!!e}get allowStale(){return this[it]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[at]=e,gt(this)}get maxAge(){return this[at]}set lengthCalculator(e){"function"!=typeof e&&(e=ft),e!==this[ot]&&(this[ot]=e,this[st]=0,this[ut].forEach((e=>{e.length=this[ot](e.value,e.key),this[st]+=e.length}))),gt(this)}get lengthCalculator(){return this[ot]}get length(){return this[st]}get itemCount(){return this[ut].length}rforEach(e,t){t=t||this;for(let n=this[ut].tail;null!==n;){const r=n.prev;vt(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[ut].head;null!==n;){const r=n.next;vt(this,e,n,t),n=r}}keys(){return this[ut].toArray().map((e=>e.key))}values(){return this[ut].toArray().map((e=>e.value))}reset(){this[lt]&&this[ut]&&this[ut].length&&this[ut].forEach((e=>this[lt](e.key,e.value))),this[ht]=new Map,this[ut]=new Ze,this[st]=0}dump(){return this[ut].map((e=>!mt(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[ut]}set(e,t,n){if((n=n||this[at])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,s=this[ot](t,e);if(this[ht].has(e)){if(s>this[rt])return Et(this,this[ht].get(e)),!1;const o=this[ht].get(e).value;return this[lt]&&(this[ct]||this[lt](e,o.value)),o.now=r,o.maxAge=n,o.value=t,this[st]+=s-o.length,o.length=s,this.get(e),gt(this),!0}const o=new $t(e,t,s,r,n);return o.length>this[rt]?(this[lt]&&this[lt](e,t),!1):(this[st]+=o.length,this[ut].unshift(o),this[ht].set(e,this[ut].head),gt(this),!0)}has(e){if(!this[ht].has(e))return!1;const t=this[ht].get(e).value;return!mt(this,t)}get(e){return dt(this,e,!0)}peek(e){return dt(this,e,!1)}pop(){const e=this[ut].tail;return e?(Et(this,e),e.value):null}del(e){Et(this,this[ht].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],s=r.e||0;if(0===s)this.set(r.k,r.v);else{const e=s-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[ht].forEach(((e,t)=>dt(this,t,!1)))}};class It{constructor(e,t){if(t=pe(t),e instanceof It)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new It(e.raw,t);if(e instanceof Xt)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!Rt(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&xt(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,n=bt.get(t);if(n)return n;const r=this.options.loose,s=r?_t[wt.HYPHENRANGELOOSE]:_t[wt.HYPHENRANGE];e=e.replace(s,jt(this.options.includePrerelease)),ce("hyphen replace",e),e=e.replace(_t[wt.COMPARATORTRIM],Mt),ce("comparator trim",e,_t[wt.COMPARATORTRIM]),e=(e=(e=e.replace(_t[wt.TILDETRIM],Nt)).replace(_t[wt.CARETTRIM],At)).split(/\s+/).join(" ");const o=r?_t[wt.COMPARATORLOOSE]:_t[wt.COMPARATOR],i=e.split(" ").map((e=>Ct(e,this.options))).join(" ").split(/\s+/).map((e=>Bt(e,this.options))).filter(this.options.loose?e=>!!e.match(o):()=>!0).map((e=>new Xt(e,this.options))),a=(i.length,new Map);for(const e of i){if(Rt(e))return[e];a.set(e.value,e)}a.size>1&&a.has("")&&a.delete("");const l=[...a.values()];return bt.set(t,l),l}intersects(e,t){if(!(e instanceof It))throw new TypeError("a Range is required");return this.set.some((n=>Tt(n,t)&&e.set.some((e=>Tt(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new Se(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(Ut(this.set[t],e,this.options))return!0;return!1}}var St=It;const bt=new yt({max:1e3}),{re:_t,t:wt,comparatorTrimReplace:Mt,tildeTrimReplace:Nt,caretTrimReplace:At}=ue,Rt=e=>"<0.0.0-0"===e.value,xt=e=>""===e.value,Tt=(e,t)=>{let n=!0;const r=e.slice();let s=r.pop();for(;n&&r.length;)n=r.every((e=>s.intersects(e,t))),s=r.pop();return n},Ct=(e,t)=>(ce("comp",e,t),e=Pt(e,t),ce("caret",e),e=Dt(e,t),ce("tildes",e),e=kt(e,t),ce("xrange",e),e=Ft(e,t),ce("stars",e),e),Ot=e=>!e||"x"===e.toLowerCase()||"*"===e,Dt=(e,t)=>e.trim().split(/\s+/).map((e=>Lt(e,t))).join(" "),Lt=(e,t)=>{const n=t.loose?_t[wt.TILDELOOSE]:_t[wt.TILDE];return e.replace(n,((t,n,r,s,o)=>{let i;return ce("tilde",e,t,n,r,s,o),Ot(n)?i="":Ot(r)?i=`>=${n}.0.0 <${+n+1}.0.0-0`:Ot(s)?i=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(ce("replaceTilde pr",o),i=`>=${n}.${r}.${s}-${o} <${n}.${+r+1}.0-0`):i=`>=${n}.${r}.${s} <${n}.${+r+1}.0-0`,ce("tilde return",i),i}))},Pt=(e,t)=>e.trim().split(/\s+/).map((e=>Gt(e,t))).join(" "),Gt=(e,t)=>{ce("caret",e,t);const n=t.loose?_t[wt.CARETLOOSE]:_t[wt.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,s,o,i)=>{let a;return ce("caret",e,t,n,s,o,i),Ot(n)?a="":Ot(s)?a=`>=${n}.0.0${r} <${+n+1}.0.0-0`:Ot(o)?a="0"===n?`>=${n}.${s}.0${r} <${n}.${+s+1}.0-0`:`>=${n}.${s}.0${r} <${+n+1}.0.0-0`:i?(ce("replaceCaret pr",i),a="0"===n?"0"===s?`>=${n}.${s}.${o}-${i} <${n}.${s}.${+o+1}-0`:`>=${n}.${s}.${o}-${i} <${n}.${+s+1}.0-0`:`>=${n}.${s}.${o}-${i} <${+n+1}.0.0-0`):(ce("no pr"),a="0"===n?"0"===s?`>=${n}.${s}.${o}${r} <${n}.${s}.${+o+1}-0`:`>=${n}.${s}.${o}${r} <${n}.${+s+1}.0-0`:`>=${n}.${s}.${o} <${+n+1}.0.0-0`),ce("caret return",a),a}))},kt=(e,t)=>(ce("replaceXRanges",e,t),e.split(/\s+/).map((e=>Ht(e,t))).join(" ")),Ht=(e,t)=>{e=e.trim();const n=t.loose?_t[wt.XRANGELOOSE]:_t[wt.XRANGE];return e.replace(n,((n,r,s,o,i,a)=>{ce("xRange",e,n,r,s,o,i,a);const l=Ot(s),c=l||Ot(o),u=c||Ot(i),h=u;return"="===r&&h&&(r=""),a=t.includePrerelease?"-0":"",l?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(c&&(o=0),i=0,">"===r?(r=">=",c?(s=+s+1,o=0,i=0):(o=+o+1,i=0)):"<="===r&&(r="<",c?s=+s+1:o=+o+1),"<"===r&&(a="-0"),n=`${r+s}.${o}.${i}${a}`):c?n=`>=${s}.0.0${a} <${+s+1}.0.0-0`:u&&(n=`>=${s}.${o}.0${a} <${s}.${+o+1}.0-0`),ce("xRange return",n),n}))},Ft=(e,t)=>(ce("replaceStars",e,t),e.trim().replace(_t[wt.STAR],"")),Bt=(e,t)=>(ce("replaceGTE0",e,t),e.trim().replace(_t[t.includePrerelease?wt.GTE0PRE:wt.GTE0],"")),jt=e=>(t,n,r,s,o,i,a,l,c,u,h,p,f)=>`${n=Ot(r)?"":Ot(s)?`>=${r}.0.0${e?"-0":""}`:Ot(o)?`>=${r}.${s}.0${e?"-0":""}`:i?`>=${n}`:`>=${n}${e?"-0":""}`} ${l=Ot(c)?"":Ot(u)?`<${+c+1}.0.0-0`:Ot(h)?`<${c}.${+u+1}.0-0`:p?`<=${c}.${u}.${h}-${p}`:e?`<${c}.${u}.${+h+1}-0`:`<=${l}`}`.trim(),Ut=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(ce(e[n].semver),e[n].semver!==Xt.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0},Vt=Symbol("SemVer ANY");class Yt{static get ANY(){return Vt}constructor(e,t){if(t=pe(t),e instanceof Yt){if(e.loose===!!t.loose)return e;e=e.value}ce("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Vt?this.value="":this.value=this.operator+this.semver.version,ce("comp",this)}parse(e){const t=this.options.loose?qt[Wt.COMPARATORLOOSE]:qt[Wt.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new Se(n[2],this.options.loose):this.semver=Vt}toString(){return this.value}test(e){if(ce("Comparator.test",e,this.options.loose),this.semver===Vt||e===Vt)return!0;if("string"==typeof e)try{e=new Se(e,this.options)}catch(e){return!1}return qe(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Yt))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new St(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new St(this.value,t).test(e.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),i=qe(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),a=qe(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||r||s&&o||i||a}}var Xt=Yt;const{re:qt,t:Wt}=ue;var zt=(e,t,n)=>{try{t=new St(t,n)}catch(e){return!1}return t.test(e)};var Jt=(e,t)=>new St(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));var Zt=(e,t,n)=>{let r=null,s=null,o=null;try{o=new St(t,n)}catch(e){return null}return e.forEach((e=>{o.test(e)&&(r&&-1!==s.compare(e)||(r=e,s=new Se(r,n)))})),r};var Qt=(e,t,n)=>{let r=null,s=null,o=null;try{o=new St(t,n)}catch(e){return null}return e.forEach((e=>{o.test(e)&&(r&&1!==s.compare(e)||(r=e,s=new Se(r,n)))})),r};var Kt=(e,t)=>{e=new St(e,t);let n=new Se("0.0.0");if(e.test(n))return n;if(n=new Se("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const r=e.set[t];let s=null;r.forEach((e=>{const t=new Se(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!je(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||n&&!je(n,s)||(n=s)}return n&&e.test(n)?n:null};var en=(e,t)=>{try{return new St(e,t).range||"*"}catch(e){return null}};const{ANY:tn}=Xt;var nn=(e,t,n,r)=>{let s,o,i,a,l;switch(e=new Se(e,r),t=new St(t,r),n){case">":s=je,o=Xe,i=Ue,a=">",l=">=";break;case"<":s=Ue,o=Ye,i=je,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(zt(e,t,r))return!1;for(let n=0;n<t.set.length;++n){const c=t.set[n];let u=null,h=null;if(c.forEach((e=>{e.semver===tn&&(e=new Xt(">=0.0.0")),u=u||e,h=h||e,s(e.semver,u.semver,r)?u=e:i(e.semver,h.semver,r)&&(h=e)})),u.operator===a||u.operator===l)return!1;if((!h.operator||h.operator===a)&&o(e,h.semver))return!1;if(h.operator===l&&i(e,h.semver))return!1}return!0};var rn=(e,t,n)=>nn(e,t,">",n);var sn=(e,t,n)=>nn(e,t,"<",n);var on=(e,t,n)=>(e=new St(e,n),t=new St(t,n),e.intersects(t));const{ANY:an}=Xt,ln=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===an)return 1===t.length&&t[0].semver===an;const r=new Set;let s,o,i,a,l,c,u;for(const t of e)">"===t.operator||">="===t.operator?s=cn(s,t,n):"<"===t.operator||"<="===t.operator?o=un(o,t,n):r.add(t.semver);if(r.size>1)return null;if(s&&o){if(i=xe(s.semver,o.semver,n),i>0)return null;if(0===i&&(">="!==s.operator||"<="!==o.operator))return null}for(const e of r){if(s&&!zt(e,String(s),n))return null;if(o&&!zt(e,String(o),n))return null;for(const r of t)if(!zt(e,String(r),n))return!1;return!0}for(const e of t){if(u=u||">"===e.operator||">="===e.operator,c=c||"<"===e.operator||"<="===e.operator,s)if(">"===e.operator||">="===e.operator){if(a=cn(s,e,n),a===e&&a!==s)return!1}else if(">="===s.operator&&!zt(s.semver,String(e),n))return!1;if(o)if("<"===e.operator||"<="===e.operator){if(l=un(o,e,n),l===e&&l!==o)return!1}else if("<="===o.operator&&!zt(o.semver,String(e),n))return!1;if(!e.operator&&(o||s)&&0!==i)return!1}return!(s&&c&&!o&&0!==i)&&!(o&&u&&!s&&0!==i)},cn=(e,t,n)=>{if(!e)return t;const r=xe(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},un=(e,t,n)=>{if(!e)return t;const r=xe(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};var hn=(e,t,n)=>{if(e===t)return!0;e=new St(e,n),t=new St(t,n);let r=!1;e:for(const s of e.set){for(const e of t.set){const t=ln(s,e,n);if(r=r||null!==t,t)continue e}if(r)return!1}return!0},pn={re:ue.re,src:ue.src,tokens:ue.t,SEMVER_SPEC_VERSION:le.SEMVER_SPEC_VERSION,SemVer:Se,compareIdentifiers:me.compareIdentifiers,rcompareIdentifiers:me.rcompareIdentifiers,parse:Me,valid:Ne,clean:Ae,inc:Re,diff:Ce,major:Oe,minor:De,patch:Le,prerelease:Pe,compare:xe,rcompare:Ge,compareLoose:ke,compareBuild:He,sort:Fe,rsort:Be,gt:je,lt:Ue,eq:Te,neq:Ve,gte:Ye,lte:Xe,cmp:qe,coerce:Je,Comparator:Xt,Range:St,satisfies:zt,toComparators:Jt,maxSatisfying:Zt,minSatisfying:Qt,minVersion:Kt,validRange:en,outside:nn,gtr:rn,ltr:sn,intersects:on,simplifyRange:(e,t,n)=>{const r=[];let s=null,o=null;const i=e.sort(((e,t)=>xe(e,t,n)));for(const e of i){zt(e,t,n)?(o=e,s||(s=e)):(o&&r.push([s,o]),o=null,s=null)}s&&r.push([s,null]);const a=[];for(const[e,t]of r)e===t?a.push(e):t||e!==i[0]?t?e===i[0]?a.push(`<=${t}`):a.push(`${e} - ${t}`):a.push(`>=${e}`):a.push("*");const l=a.join(" || "),c="string"==typeof t.raw?t.raw:String(t);return l.length<c.length?l:t},subset:hn},fn=pn.gt,dn=pn.gte;function mn(...e){window.debugMode&&console.log(...e)}class gn{constructor({ledOn:e=!0,ledFlash:t=!0,controllerFlip:n=!1,midiThru:r=!1,deviceId:s=0,i2cMaster:o=!1,fadermin:i=0,fadermax:a=8192,firmwareVersion:l="unknown",usbControls:c=[],trsControls:u=[]}){this.ledOn=e,this.ledFlash=t,this.controllerFlip=n,this.midiThru=r,this.deviceId=s,this.firmwareVersion=l,this.i2cMaster=o,this.fadermin=i,this.fadermax=a,this.usbControls=c,this.trsControls=u}isEquivalent(e){let t=this.ledOn==e.ledOn&&this.ledFlash==e.ledFlash&&this.controllerFlip==e.controllerFlip&&this.midiThru==e.midiThru;("i2cMaster"in this||"i2cMaster"in e)&&(t=t&&this.i2cMaster==e.i2cMaster),("fadermax"in this||"fadermax"in e)&&(t=t&&this.fadermax==e.fadermax&&this.fadermin==e.fadermin);let n=!0;return this.usbControls.forEach(((t,r)=>{let s=e.usbControls[r];t.channel==s.channel&&t.cc==s.cc||(n=!1)})),this.trsControls.forEach(((t,r)=>{let s=e.trsControls[r];t.channel==s.channel&&t.cc==s.cc||(n=!1)})),t&&n&&!0}toSysexArray(){let e=Array.from({length:84},(e=>0));e[0]=this.deviceId,e[1]=this.firmwareArray()[0],e[2]=this.firmwareArray()[1],e[3]=this.firmwareArray()[2],e[4]=this.ledOn?1:0,e[5]=this.ledFlash?1:0,e[6]=this.controllerFlip?1:0,e[7]=this.i2cMaster;let t=this.fadermin>>7,n=this.fadermin-(t<<7);e[8]=n,e[9]=t;let r=this.fadermax>>7,s=this.fadermax-(r<<7);e[10]=s,e[11]=r,e[12]=this.midiThru?1:0;return this.usbControls.forEach(((t,n)=>{e[n+20]=t.channel,e[n+52]=t.cc})),this.trsControls.forEach(((t,n)=>{e[n+36]=t.channel,e[n+68]=t.cc})),e}toDeviceOptionsSysexArray(){return this.toSysexArray().slice(4,20)}toUSBOptionsSysexArray(){const e=this.toSysexArray(),t=e.slice(20,36),n=e.slice(52,68);return t.concat(n)}toTRSOptionsSysexArray(){const e=this.toSysexArray(),t=e.slice(36,52),n=e.slice(68,84);return t.concat(n)}toJsonString(){let e=gn.clone(this),t=this.device().controlCount;return e.usbControls=e.usbControls.splice(0,t),e.usbControls.forEach((e=>delete e.val)),e.trsControls=e.trsControls.splice(0,t),JSON.stringify(e,!1,2)}isNewConfigInvalid(e){return e.deviceId!=this.deviceId&&`Cannot update - this data file is for a ${gn.devices[e.deviceId].name}, but you are trying to install it on a ${this.device().name} `}updateFromJson(e){return Object.keys(e).forEach((t=>{this[t]=e[t]})),this}device(){return gn.devices[this.deviceId]}firmwareArray(){return this.firmwareVersion.trim().split(".").map((e=>parseInt(e)))}static clone(e){let t=new gn({ledOn:e.ledOn,ledFlash:e.ledFlash,controllerFlip:e.controllerFlip,midiThru:e.midiThru,usbControls:[],trsControls:[],deviceId:e.deviceId,firmwareVersion:e.firmwareVersion,i2cMaster:e.i2cMaster,fadermin:e.fadermin,fadermax:e.fadermax});return e.usbControls.forEach(((e,n)=>{t.usbControls[n]={...e}})),e.trsControls.forEach(((e,n)=>{t.trsControls[n]={...e}})),t}static returnConfigHashFromSysex(e){mn("Generating config from",e);let t=e[5],n=e[6]+"."+e[7]+"."+e[8],r=e[9],s=e[10],o=e[11],i=1==e[12],a=e[13],l=(e[14]<<7)+a,c=e[15],u=(e[16]<<7)+c,h=e[17],p=[],f=[];return e.slice(25,41).forEach(((e,t)=>{127!=e&&(p[t]={channel:e})})),e.slice(41,57).forEach(((e,t)=>{127!=e&&(f[t]={channel:e})})),e.slice(57,73).forEach(((e,t)=>{127!=e&&(p[t].cc=e)})),e.slice(73,89).forEach(((e,t)=>{127!=e&&(f[t].cc=e)})),p.forEach((e=>e.val=0)),new gn({ledOn:r,ledFlash:s,controllerFlip:o,midiThru:h,usbControls:p,trsControls:f,deviceId:t,firmwareVersion:n,i2cMaster:i,fadermin:l,fadermax:u})}}gn.devices=[{name:"unknown",controlCount:0,capabilities:{}},{name:"Oxion development board",controlCount:4,capabilities:{led:!0}},{name:"16n",controlCount:16,capabilities:{i2c:!0,led:!0}},{name:"16n (LC)",controlCount:16,capabilities:{i2c:!0,led:!0},sendShortMessages:!0}];class En{static import(e,t,n){let r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("id","uploadedConfig"),r.setAttribute("onchange","window.handleFiles(this.files)"),window.handleFiles=r=>{if(r.length>0){let s=r[0];const o=new FileReader;o.addEventListener("load",(r=>{const s=JSON.parse(o.result),i=e.isNewConfigInvalid(s);i?alert(i):(n.update((t=>e.updateFromJson(s))),e.isEquivalent(t)?alert("Imported configuration is identical to currently loaded configuration; no changes to upload."):alert("New configuration imported. Choose 'update controller' to import, or 'Cancel' to abort"))})),o.readAsText(s),window.handleFiles=null}},r.click(),r.remove()}static export(e){let t="data:text/json;charset=utf-8,"+encodeURIComponent(e.toJsonString()),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",`${e.device().name}_controller_config.json`),document.body.appendChild(n),n.click(),n.remove()}}var $n=ae((function(e){!function(t){function n(){if(n.prototype._singleton)throw new Error("WebMidi is a singleton, it cannot be instantiated directly.");(n.prototype._singleton=this)._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=["connected","disconnected"],this._nrpnBuffer=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this._nrpnEventsEnabled=!0,this._nrpnTypes=["entry","increment","decrement"],this._notes=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,nrpn:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_NRPN_MESSAGES:{value:{entrymsb:6,entrylsb:38,increment:96,decrement:97,paramlsb:98,parammsb:99,nullactiveparameter:127},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1},octaveOffset:{value:0,writable:!0,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return"requestMIDIAccess"in navigator}},enabled:{enumerable:!0,get:function(){return void 0!==this.interface}.bind(this)},inputs:{enumerable:!0,get:function(){return this._inputs}.bind(this)},outputs:{enumerable:!0,get:function(){return this._outputs}.bind(this)},sysexEnabled:{enumerable:!0,get:function(){return!(!this.interface||!this.interface.sysexEnabled)}.bind(this)},nrpnEventsEnabled:{enumerable:!0,get:function(){return!!this._nrpnEventsEnabled}.bind(this),set:function(e){return this._nrpnEventsEnabled=e,this._nrpnEventsEnabled}},nrpnTypes:{enumerable:!0,get:function(){return this._nrpnTypes}.bind(this)},time:{enumerable:!0,get:function(){return performance.now()}}})}var r=new n;function s(e){var t=this;this._userHandlers={channel:{},system:{}},this._midiInput=e,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return t._midiInput.connection}},id:{enumerable:!0,get:function(){return t._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return t._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return t._midiInput.name}},state:{enumerable:!0,get:function(){return t._midiInput.state}},type:{enumerable:!0,get:function(){return t._midiInput.type}}}),this._initializeUserHandlers(),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}function o(e){var t=this;this._midiOutput=e,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return t._midiOutput.connection}},id:{enumerable:!0,get:function(){return t._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return t._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return t._midiOutput.name}},state:{enumerable:!0,get:function(){return t._midiOutput.state}},type:{enumerable:!0,get:function(){return t._midiOutput.type}}})}n.prototype.enable=function(e,t){this.enabled||(this.supported?navigator.requestMIDIAccess({sysex:t}).then(function(t){var n,r=[],s=[];this.interface=t,this._resetInterfaceUserHandlers(),this.interface.onstatechange=function(e){r.push(e)};for(var o=t.inputs.values(),i=o.next();i&&!i.done;i=o.next())s.push(i.value.open());for(var a=t.outputs.values(),l=a.next();l&&!l.done;l=a.next())s.push(l.value.open());function c(){clearTimeout(n),this._updateInputsAndOutputs(),this.interface.onstatechange=this._onInterfaceStateChange.bind(this),"function"==typeof e&&e.call(this),r.forEach(function(e){this._onInterfaceStateChange(e)}.bind(this))}n=setTimeout(c.bind(this),200),Promise&&Promise.all(s).catch((function(e){})).then(c.bind(this))}.bind(this),function(t){"function"==typeof e&&e.call(this,t)}.bind(this)):"function"==typeof e&&e(new Error("The Web MIDI API is not supported by your browser.")))},n.prototype.disable=function(){if(!this.supported)throw new Error("The Web MIDI API is not supported by your browser.");this.interface&&(this.interface.onstatechange=void 0),this.interface=void 0,this._inputs=[],this._outputs=[],this._nrpnEventsEnabled=!0,this._resetInterfaceUserHandlers()},n.prototype.addListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before adding event listeners.");if("function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(e)))throw new TypeError("The specified event type is not supported.");return this._userHandlers[e].push(t),this},n.prototype.hasListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before checking event listeners.");if("function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(e)))throw new TypeError("The specified event type is not supported.");for(var n=0;n<this._userHandlers[e].length;n++)if(this._userHandlers[e][n]===t)return!0;return!1},n.prototype.removeListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before removing event listeners.");if(void 0!==t&&"function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(0<=this._midiInterfaceEvents.indexOf(e))if(t)for(var n=0;n<this._userHandlers[e].length;n++)this._userHandlers[e][n]===t&&this._userHandlers[e].splice(n,1);else this._userHandlers[e]=[];else{if(void 0!==e)throw new TypeError("The specified event type is not supported.");this._resetInterfaceUserHandlers()}return this},n.prototype.toMIDIChannels=function(e){var t;if("all"===e||void 0===e)t=["all"];else{if("none"===e)return[];t=Array.isArray(e)?e:[e]}return-1<t.indexOf("all")&&(t=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),t.map((function(e){return parseInt(e)})).filter((function(e){return 1<=e&&e<=16}))},n.prototype.getInputById=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");e=String(e);for(var t=0;t<this.inputs.length;t++)if(this.inputs[t].id===e)return this.inputs[t];return!1},n.prototype.getOutputById=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");e=String(e);for(var t=0;t<this.outputs.length;t++)if(this.outputs[t].id===e)return this.outputs[t];return!1},n.prototype.getInputByName=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var t=0;t<this.inputs.length;t++)if(~this.inputs[t].name.indexOf(e))return this.inputs[t];return!1},n.prototype.getOctave=function(e){if(null!=e&&0<=e&&e<=127)return Math.floor(Math.floor(e)/12-1)+Math.floor(r.octaveOffset)},n.prototype.getOutputByName=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var t=0;t<this.outputs.length;t++)if(~this.outputs[t].name.indexOf(e))return this.outputs[t];return!1},n.prototype.guessNoteNumber=function(e){var t=!1;if(e&&e.toFixed&&0<=e&&e<=127?t=Math.round(e):0<=parseInt(e)&&parseInt(e)<=127?t=parseInt(e):("string"==typeof e||e instanceof String)&&(t=this.noteNameToNumber(e)),!1===t)throw new Error("Invalid input value ("+e+").");return t},n.prototype.noteNameToNumber=function(e){"string"!=typeof e&&(e="");var t=e.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)/i);if(!t)throw new RangeError("Invalid note name.");var n=r._semitones[t[1].toUpperCase()],s=12*(parseInt(t[3])+1-Math.floor(r.octaveOffset))+n;if(-1<t[2].toLowerCase().indexOf("b")?s-=t[2].length:-1<t[2].toLowerCase().indexOf("#")&&(s+=t[2].length),s<0||127<s)throw new RangeError("Invalid note name or note outside valid range.");return s},n.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},n.prototype._updateInputs=function(){for(var e=0;e<this._inputs.length;e++){for(var t=!0,n=this.interface.inputs.values(),r=n.next();r&&!r.done;r=n.next())if(this._inputs[e]._midiInput===r.value){t=!1;break}t&&this._inputs.splice(e,1)}this.interface&&this.interface.inputs.forEach(function(e){for(var t=!0,n=0;n<this._inputs.length;n++)this._inputs[n]._midiInput===e&&(t=!1);t&&this._inputs.push(new s(e))}.bind(this))},n.prototype._updateOutputs=function(){for(var e=0;e<this._outputs.length;e++){for(var t=!0,n=this.interface.outputs.values(),r=n.next();r&&!r.done;r=n.next())if(this._outputs[e]._midiOutput===r.value){t=!1;break}t&&this._outputs.splice(e,1)}this.interface&&this.interface.outputs.forEach(function(e){for(var t=!0,n=0;n<this._outputs.length;n++)this._outputs[n]._midiOutput===e&&(t=!1);t&&this._outputs.push(new o(e))}.bind(this))},n.prototype._onInterfaceStateChange=function(e){this._updateInputsAndOutputs();var t={timestamp:e.timeStamp,type:e.port.state};this.interface&&"connected"===e.port.state?"output"===e.port.type?t.port=this.getOutputById(e.port.id):"input"===e.port.type&&(t.port=this.getInputById(e.port.id)):t.port={connection:"closed",id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this._userHandlers[e.port.state].forEach((function(e){e(t)}))},n.prototype._resetInterfaceUserHandlers=function(){for(var e=0;e<this._midiInterfaceEvents.length;e++)this._userHandlers[this._midiInterfaceEvents[e]]=[]},s.prototype.on=s.prototype.addListener=function(e,t,n){var s=this;if(void 0===t&&(t="all"),Array.isArray(t)||(t=[t]),t.forEach((function(e){if("all"!==e&&!(1<=e&&e<=16))throw new RangeError("The 'channel' parameter is invalid.")})),"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0!==r.MIDI_SYSTEM_MESSAGES[e])this._userHandlers.system[e]||(this._userHandlers.system[e]=[]),this._userHandlers.system[e].push(n);else{if(void 0===r.MIDI_CHANNEL_MESSAGES[e])throw new TypeError("The specified event type is not supported.");if(-1<t.indexOf("all")){t=[];for(var o=1;o<=16;o++)t.push(o)}this._userHandlers.channel[e]||(this._userHandlers.channel[e]=[]),t.forEach((function(t){s._userHandlers.channel[e][t]||(s._userHandlers.channel[e][t]=[]),s._userHandlers.channel[e][t].push(n)}))}return this},s.prototype.hasListener=function(e,t,n){var s=this;if("function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===t&&(t="all"),t.constructor!==Array&&(t=[t]),void 0!==r.MIDI_SYSTEM_MESSAGES[e]){for(var o=0;o<this._userHandlers.system[e].length;o++)if(this._userHandlers.system[e][o]===n)return!0}else if(void 0!==r.MIDI_CHANNEL_MESSAGES[e]){if(-1<t.indexOf("all")){t=[];for(var i=1;i<=16;i++)t.push(i)}return!!this._userHandlers.channel[e]&&t.every((function(t){var r=s._userHandlers.channel[e][t];return r&&-1<r.indexOf(n)}))}return!1},s.prototype.removeListener=function(e,t,n){var s=this;if(void 0!==n&&"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===t&&(t="all"),t.constructor!==Array&&(t=[t]),void 0!==r.MIDI_SYSTEM_MESSAGES[e])if(void 0===n)this._userHandlers.system[e]=[];else for(var o=0;o<this._userHandlers.system[e].length;o++)this._userHandlers.system[e][o]===n&&this._userHandlers.system[e].splice(o,1);else if(void 0!==r.MIDI_CHANNEL_MESSAGES[e]){if(-1<t.indexOf("all")){t=[];for(var i=1;i<=16;i++)t.push(i)}if(!this._userHandlers.channel[e])return this;t.forEach((function(t){var r=s._userHandlers.channel[e][t];if(r)if(void 0===n)s._userHandlers.channel[e][t]=[];else for(var o=0;o<r.length;o++)r[o]===n&&r.splice(o,1)}))}else{if(void 0!==e)throw new TypeError("The specified event type is not supported.");this._initializeUserHandlers()}return this},s.prototype._initializeUserHandlers=function(){for(var e in r.MIDI_CHANNEL_MESSAGES)r.MIDI_CHANNEL_MESSAGES.hasOwnProperty(e)&&(this._userHandlers.channel[e]={});for(var t in r.MIDI_SYSTEM_MESSAGES)r.MIDI_SYSTEM_MESSAGES.hasOwnProperty(t)&&(this._userHandlers.system[t]=[])},s.prototype._onMidiMessage=function(e){if(0<this._userHandlers.system.midimessage.length){var t={target:this,data:e.data,timestamp:e.timeStamp,type:"midimessage"};this._userHandlers.system.midimessage.forEach((function(e){e(t)}))}e.data[0]<240?(this._parseChannelEvent(e),this._parseNrpnEvent(e)):e.data[0]<=255&&this._parseSystemEvent(e)},s.prototype._parseNrpnEvent=function(e){var t,n,s=e.data[0]>>4,o=15&e.data[0],i=1+o;if(1<e.data.length&&(t=e.data[1],n=2<e.data.length?e.data[2]:void 0),r.nrpnEventsEnabled&&s===r.MIDI_CHANNEL_MESSAGES.controlchange&&(t>=r.MIDI_NRPN_MESSAGES.increment&&t<=r.MIDI_NRPN_MESSAGES.parammsb||t===r.MIDI_NRPN_MESSAGES.entrymsb||t===r.MIDI_NRPN_MESSAGES.entrylsb)){var a={target:this,type:"controlchange",data:e.data,timestamp:e.timeStamp,channel:i,controller:{number:t,name:this.getCcNameByNumber(t)},value:n};if(a.controller.number===r.MIDI_NRPN_MESSAGES.parammsb&&a.value!=r.MIDI_NRPN_MESSAGES.nullactiveparameter)r._nrpnBuffer[o]=[],r._nrpnBuffer[o][0]=a;else if(1===r._nrpnBuffer[o].length&&a.controller.number===r.MIDI_NRPN_MESSAGES.paramlsb)r._nrpnBuffer[o].push(a);else if(2!==r._nrpnBuffer[o].length||a.controller.number!==r.MIDI_NRPN_MESSAGES.increment&&a.controller.number!==r.MIDI_NRPN_MESSAGES.decrement&&a.controller.number!==r.MIDI_NRPN_MESSAGES.entrymsb)if(3===r._nrpnBuffer[o].length&&r._nrpnBuffer[o][2].number===r.MIDI_NRPN_MESSAGES.entrymsb&&a.controller.number===r.MIDI_NRPN_MESSAGES.entrylsb)r._nrpnBuffer[o].push(a);else if(3<=r._nrpnBuffer[o].length&&r._nrpnBuffer[o].length<=4&&a.controller.number===r.MIDI_NRPN_MESSAGES.parammsb&&a.value===r.MIDI_NRPN_MESSAGES.nullactiveparameter)r._nrpnBuffer[o].push(a);else if(4<=r._nrpnBuffer[o].length&&r._nrpnBuffer[o].length<=5&&a.controller.number===r.MIDI_NRPN_MESSAGES.paramlsb&&a.value===r.MIDI_NRPN_MESSAGES.nullactiveparameter){r._nrpnBuffer[o].push(a);var l=[];r._nrpnBuffer[o].forEach((function(e){l.push(e.data)}));var c=r._nrpnBuffer[o][0].value<<7|r._nrpnBuffer[o][1].value,u=r._nrpnBuffer[o][2].value;6===r._nrpnBuffer[o].length&&(u=r._nrpnBuffer[o][2].value<<7|r._nrpnBuffer[o][3].value);var h="";switch(r._nrpnBuffer[o][2].controller.number){case r.MIDI_NRPN_MESSAGES.entrymsb:h=r._nrpnTypes[0];break;case r.MIDI_NRPN_MESSAGES.increment:h=r._nrpnTypes[1];break;case r.MIDI_NRPN_MESSAGES.decrement:h=r._nrpnTypes[2];break;default:throw new Error("The NPRN type was unidentifiable.")}var p={timestamp:a.timestamp,channel:a.channel,type:"nrpn",data:l,controller:{number:c,type:h,name:"Non-Registered Parameter "+c},value:u};r._nrpnBuffer[o]=[],this._userHandlers.channel[p.type]&&this._userHandlers.channel[p.type][p.channel]&&this._userHandlers.channel[p.type][p.channel].forEach((function(e){e(p)}))}else r._nrpnBuffer[o]=[];else r._nrpnBuffer[o].push(a)}},s.prototype._parseChannelEvent=function(e){var t,n,s=e.data[0]>>4,o=1+(15&e.data[0]);1<e.data.length&&(t=e.data[1],n=2<e.data.length?e.data[2]:void 0);var i={target:this,data:e.data,timestamp:e.timeStamp,channel:o};s===r.MIDI_CHANNEL_MESSAGES.noteoff||s===r.MIDI_CHANNEL_MESSAGES.noteon&&0===n?(i.type="noteoff",i.note={number:t,name:r._notes[t%12],octave:r.getOctave(t)},i.velocity=n/127,i.rawVelocity=n):s===r.MIDI_CHANNEL_MESSAGES.noteon?(i.type="noteon",i.note={number:t,name:r._notes[t%12],octave:r.getOctave(t)},i.velocity=n/127,i.rawVelocity=n):s===r.MIDI_CHANNEL_MESSAGES.keyaftertouch?(i.type="keyaftertouch",i.note={number:t,name:r._notes[t%12],octave:r.getOctave(t)},i.value=n/127):s===r.MIDI_CHANNEL_MESSAGES.controlchange&&0<=t&&t<=119?(i.type="controlchange",i.controller={number:t,name:this.getCcNameByNumber(t)},i.value=n):s===r.MIDI_CHANNEL_MESSAGES.channelmode&&120<=t&&t<=127?(i.type="channelmode",i.controller={number:t,name:this.getChannelModeByNumber(t)},i.value=n):s===r.MIDI_CHANNEL_MESSAGES.programchange?(i.type="programchange",i.value=t):s===r.MIDI_CHANNEL_MESSAGES.channelaftertouch?(i.type="channelaftertouch",i.value=t/127):s===r.MIDI_CHANNEL_MESSAGES.pitchbend?(i.type="pitchbend",i.value=((n<<7)+t-8192)/8192):i.type="unknownchannelmessage",this._userHandlers.channel[i.type]&&this._userHandlers.channel[i.type][o]&&this._userHandlers.channel[i.type][o].forEach((function(e){e(i)}))},s.prototype.getCcNameByNumber=function(e){if(!(0<=(e=Math.floor(e))&&e<=119))throw new RangeError("The control change number must be between 0 and 119.");for(var t in r.MIDI_CONTROL_CHANGE_MESSAGES)if(r.MIDI_CONTROL_CHANGE_MESSAGES.hasOwnProperty(t)&&e===r.MIDI_CONTROL_CHANGE_MESSAGES[t])return t},s.prototype.getChannelModeByNumber=function(e){if(!(120<=(e=Math.floor(e))&&status<=127))throw new RangeError("The control change number must be between 120 and 127.");for(var t in r.MIDI_CHANNEL_MODE_MESSAGES)if(r.MIDI_CHANNEL_MODE_MESSAGES.hasOwnProperty(t)&&e===r.MIDI_CHANNEL_MODE_MESSAGES[t])return t},s.prototype._parseSystemEvent=function(e){var t=e.data[0],n={target:this,data:e.data,timestamp:e.timeStamp};t===r.MIDI_SYSTEM_MESSAGES.sysex?n.type="sysex":t===r.MIDI_SYSTEM_MESSAGES.timecode?n.type="timecode":t===r.MIDI_SYSTEM_MESSAGES.songposition?n.type="songposition":t===r.MIDI_SYSTEM_MESSAGES.songselect?(n.type="songselect",n.song=e.data[1]):t===r.MIDI_SYSTEM_MESSAGES.tuningrequest?n.type="tuningrequest":t===r.MIDI_SYSTEM_MESSAGES.clock?n.type="clock":t===r.MIDI_SYSTEM_MESSAGES.start?n.type="start":t===r.MIDI_SYSTEM_MESSAGES.continue?n.type="continue":t===r.MIDI_SYSTEM_MESSAGES.stop?n.type="stop":t===r.MIDI_SYSTEM_MESSAGES.activesensing?n.type="activesensing":t===r.MIDI_SYSTEM_MESSAGES.reset?n.type="reset":n.type="unknownsystemmessage",this._userHandlers.system[n.type]&&this._userHandlers.system[n.type].forEach((function(e){e(n)}))},o.prototype.send=function(e,t,n){if(!(128<=e&&e<=255))throw new RangeError("The status byte must be an integer between 128 (0x80) and 255 (0xFF).");void 0===t&&(t=[]),Array.isArray(t)||(t=[t]);var r=[];return t.forEach((function(e){var t=Math.floor(e);if(!(0<=t&&t<=255))throw new RangeError("Data bytes must be integers between 0 (0x00) and 255 (0xFF).");r.push(t)})),this._midiOutput.send([e].concat(r),parseFloat(n)||0),this},o.prototype.sendSysex=function(e,t,n){if(!r.sysexEnabled)throw new Error("Sysex message support must first be activated.");return n=n||{},e=[].concat(e),t.forEach((function(e){if(e<0||127<e)throw new RangeError("The data bytes of a sysex message must be integers between 0 (0x00) and 127 (0x7F).")})),t=e.concat(t,r.MIDI_SYSTEM_MESSAGES.sysexend),this.send(r.MIDI_SYSTEM_MESSAGES.sysex,t,this._parseTimeParameter(n.time)),this},o.prototype.sendTimecodeQuarterFrame=function(e,t){return t=t||{},this.send(r.MIDI_SYSTEM_MESSAGES.timecode,e,this._parseTimeParameter(t.time)),this},o.prototype.sendSongPosition=function(e,t){t=t||{};var n=(e=Math.floor(e)||0)>>7&127,s=127&e;return this.send(r.MIDI_SYSTEM_MESSAGES.songposition,[n,s],this._parseTimeParameter(t.time)),this},o.prototype.sendSongSelect=function(e,t){if(t=t||{},!(0<=(e=Math.floor(e))&&e<=127))throw new RangeError("The song number must be between 0 and 127.");return this.send(r.MIDI_SYSTEM_MESSAGES.songselect,[e],this._parseTimeParameter(t.time)),this},o.prototype.sendTuningRequest=function(e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendClock=function(e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.clock,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendStart=function(e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.start,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendContinue=function(e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.continue,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendStop=function(e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.stop,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendActiveSensing=function(e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.activesensing,[],this._parseTimeParameter(e.time)),this},o.prototype.sendReset=function(e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.reset,void 0,this._parseTimeParameter(e.time)),this},o.prototype.stopNote=function(e,t,n){if("all"===e)return this.sendChannelMode("allnotesoff",0,t,n);var s=64;return(n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(s=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(s=127*n.velocity),this._convertNoteToArray(e).forEach(function(e){r.toMIDIChannels(t).forEach(function(t){this.send((r.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(t-1),[e,Math.round(s)],this._parseTimeParameter(n.time))}.bind(this))}.bind(this)),this},o.prototype.playNote=function(e,t,n){var s,o=64;if((n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(o=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(o=127*n.velocity),s=this._parseTimeParameter(n.time),this._convertNoteToArray(e).forEach(function(e){r.toMIDIChannels(t).forEach(function(t){this.send((r.MIDI_CHANNEL_MESSAGES.noteon<<4)+(t-1),[e,Math.round(o)],s)}.bind(this))}.bind(this)),!isNaN(n.duration)){n.duration<=0&&(n.duration=0);var i=64;n.rawVelocity?!isNaN(n.release)&&0<=n.release&&n.release<=127&&(i=n.release):!isNaN(n.release)&&0<=n.release&&n.release<=1&&(i=127*n.release),this._convertNoteToArray(e).forEach(function(e){r.toMIDIChannels(t).forEach(function(t){this.send((r.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(t-1),[e,Math.round(i)],(s||r.time)+n.duration)}.bind(this))}.bind(this))}return this},o.prototype.sendKeyAftertouch=function(e,t,n,s){var o=this;if(s=s||{},t<1||16<t)throw new RangeError("The channel must be between 1 and 16.");(isNaN(n)||n<0||1<n)&&(n=.5);var i=Math.round(127*n);return this._convertNoteToArray(e).forEach((function(e){r.toMIDIChannels(t).forEach((function(t){o.send((r.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(t-1),[e,i],o._parseTimeParameter(s.time))}))})),this},o.prototype.sendControlChange=function(e,t,n,s){if(s=s||{},"string"==typeof e){if(void 0===(e=r.MIDI_CONTROL_CHANGE_MESSAGES[e]))throw new TypeError("Invalid controller name.")}else if(!(0<=(e=Math.floor(e))&&e<=119))throw new RangeError("Controller numbers must be between 0 and 119.");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("Controller value must be between 0 and 127.");return r.toMIDIChannels(n).forEach(function(n){this.send((r.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(n-1),[e,t],this._parseTimeParameter(s.time))}.bind(this)),this},o.prototype._selectRegisteredParameter=function(e,t,n){var s=this;if(e[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The control65 value must be between 0 and 127");if(e[1]=Math.floor(e[1]),!(0<=e[1]&&e[1]<=127))throw new RangeError("The control64 value must be between 0 and 127");return r.toMIDIChannels(t).forEach((function(){s.sendControlChange(101,e[0],t,{time:n}),s.sendControlChange(100,e[1],t,{time:n})})),this},o.prototype._selectNonRegisteredParameter=function(e,t,n){var s=this;if(e[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The control63 value must be between 0 and 127");if(e[1]=Math.floor(e[1]),!(0<=e[1]&&e[1]<=127))throw new RangeError("The control62 value must be between 0 and 127");return r.toMIDIChannels(t).forEach((function(){s.sendControlChange(99,e[0],t,{time:n}),s.sendControlChange(98,e[1],t,{time:n})})),this},o.prototype._setCurrentRegisteredParameter=function(e,t,n){var s=this;if((e=[].concat(e))[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The msb value must be between 0 and 127");return r.toMIDIChannels(t).forEach((function(){s.sendControlChange(6,e[0],t,{time:n})})),e[1]=Math.floor(e[1]),0<=e[1]&&e[1]<=127&&r.toMIDIChannels(t).forEach((function(){s.sendControlChange(38,e[1],t,{time:n})})),this},o.prototype._deselectRegisteredParameter=function(e,t){var n=this;return r.toMIDIChannels(e).forEach((function(){n.sendControlChange(101,127,e,{time:t}),n.sendControlChange(100,127,e,{time:t})})),this},o.prototype.setRegisteredParameter=function(e,t,n,s){var o=this;if(s=s||{},!Array.isArray(e)){if(!r.MIDI_REGISTERED_PARAMETER[e])throw new Error("The specified parameter is not available.");e=r.MIDI_REGISTERED_PARAMETER[e]}return r.toMIDIChannels(n).forEach((function(){o._selectRegisteredParameter(e,n,s.time),o._setCurrentRegisteredParameter(t,n,s.time),o._deselectRegisteredParameter(n,s.time)})),this},o.prototype.setNonRegisteredParameter=function(e,t,n,s){var o=this;if(s=s||{},!(0<=e[0]&&e[0]<=127&&0<=e[1]&&e[1]<=127))throw new Error("Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.");return t=[].concat(t),r.toMIDIChannels(n).forEach((function(){o._selectNonRegisteredParameter(e,n,s.time),o._setCurrentRegisteredParameter(t,n,s.time),o._deselectRegisteredParameter(n,s.time)})),this},o.prototype.incrementRegisteredParameter=function(e,t,n){var s=this;if(n=n||{},!Array.isArray(e)){if(!r.MIDI_REGISTERED_PARAMETER[e])throw new Error("The specified parameter is not available.");e=r.MIDI_REGISTERED_PARAMETER[e]}return r.toMIDIChannels(t).forEach((function(){s._selectRegisteredParameter(e,t,n.time),s.sendControlChange(96,0,t,{time:n.time}),s._deselectRegisteredParameter(t,n.time)})),this},o.prototype.decrementRegisteredParameter=function(e,t,n){if(n=n||{},!Array.isArray(e)){if(!r.MIDI_REGISTERED_PARAMETER[e])throw new TypeError("The specified parameter is not available.");e=r.MIDI_REGISTERED_PARAMETER[e]}return r.toMIDIChannels(t).forEach(function(){this._selectRegisteredParameter(e,t,n.time),this.sendControlChange(97,0,t,{time:n.time}),this._deselectRegisteredParameter(t,n.time)}.bind(this)),this},o.prototype.setPitchBendRange=function(e,t,n,s){var o=this;if(s=s||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The cents value must be between 0 and 127");return r.toMIDIChannels(n).forEach((function(){o.setRegisteredParameter("pitchbendrange",[e,t],n,{time:s.time})})),this},o.prototype.setModulationRange=function(e,t,n,s){var o=this;if(s=s||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The cents value must be between 0 and 127");return r.toMIDIChannels(n).forEach((function(){o.setRegisteredParameter("modulationrange",[e,t],n,{time:s.time})})),this},o.prototype.setMasterTuning=function(e,t,n){var s=this;if(n=n||{},(e=parseFloat(e)||0)<=-65||64<=e)throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");var o=Math.floor(e)+64,i=e-Math.floor(e),a=(i=Math.round((i+1)/2*16383))>>7&127,l=127&i;return r.toMIDIChannels(t).forEach((function(){s.setRegisteredParameter("channelcoarsetuning",o,t,{time:n.time}),s.setRegisteredParameter("channelfinetuning",[a,l],t,{time:n.time})})),this},o.prototype.setTuningProgram=function(e,t,n){var s=this;if(n=n||{},!(0<=(e=Math.floor(e))&&e<=127))throw new RangeError("The program value must be between 0 and 127");return r.toMIDIChannels(t).forEach((function(){s.setRegisteredParameter("tuningprogram",e,t,{time:n.time})})),this},o.prototype.setTuningBank=function(e,t,n){var s=this;if(n=n||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The bank value must be between 0 and 127");return r.toMIDIChannels(t).forEach((function(){s.setRegisteredParameter("tuningbank",e,t,{time:n.time})})),this},o.prototype.sendChannelMode=function(e,t,n,s){if(s=s||{},"string"==typeof e){if(!(e=r.MIDI_CHANNEL_MODE_MESSAGES[e]))throw new TypeError("Invalid channel mode message name.")}else if(!(120<=(e=Math.floor(e))&&e<=127))throw new RangeError("Channel mode numerical identifiers must be between 120 and 127.");if((t=Math.floor(t)||0)<0||127<t)throw new RangeError("Value must be an integer between 0 and 127.");return r.toMIDIChannels(n).forEach(function(n){this.send((r.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(n-1),[e,t],this._parseTimeParameter(s.time))}.bind(this)),this},o.prototype.sendProgramChange=function(e,t,n){var s=this;if(n=n||{},e=Math.floor(e),isNaN(e)||e<0||127<e)throw new RangeError("Program numbers must be between 0 and 127.");return r.toMIDIChannels(t).forEach((function(t){s.send((r.MIDI_CHANNEL_MESSAGES.programchange<<4)+(t-1),[e],s._parseTimeParameter(n.time))})),this},o.prototype.sendChannelAftertouch=function(e,t,n){var s=this;n=n||{},e=parseFloat(e),(isNaN(e)||e<0||1<e)&&(e=.5);var o=Math.round(127*e);return r.toMIDIChannels(t).forEach((function(e){s.send((r.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(e-1),[o],s._parseTimeParameter(n.time))})),this},o.prototype.sendPitchBend=function(e,t,n){var s=this;if(n=n||{},isNaN(e)||e<-1||1<e)throw new RangeError("Pitch bend value must be between -1 and 1.");var o=Math.round((e+1)/2*16383),i=o>>7&127,a=127&o;return r.toMIDIChannels(t).forEach((function(e){s.send((r.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(e-1),[a,i],s._parseTimeParameter(n.time))})),this},o.prototype._parseTimeParameter=function(e){var t,n=parseFloat(e);return"string"==typeof e&&"+"===e.substring(0,1)?n&&0<n&&(t=r.time+n):n>r.time&&(t=n),t},o.prototype._convertNoteToArray=function(e){var t=[];return Array.isArray(e)||(e=[e]),e.forEach((function(e){t.push(r.guessNoteNumber(e))})),t},e.exports?e.exports=r:t.WebMidi||(t.WebMidi=r)}(ie)}));class vn{static isOxionSysex(e){return e[1]==this.sysexMfgId[0]&&e[2]==this.sysexMfgId[1]&&e[3]==this.sysexMfgId[2]}static sortMidiInterfaces(e,t){let n=`${e.manufacturer} ${e.name}`,r=`${t.manufacturer} ${t.name}`;return n<r?-1:n>r?1:0}static allInputs(){return $n.inputs.sort(vn.sortMidiInterfaces)}static allOutputs(){return $n.outputs.sort(vn.sortMidiInterfaces)}static sendConfiguration(e,t){e.device().sendShortMessages?this.sendShortConfiguration(e,t):this.sendFullConfiguration(e,t)}static sendFullConfiguration(e,t){t.sendSysex(vn.sysexMfgId,[vn.updateConfigMsg].concat(e.toSysexArray()))}static sendShortConfiguration(e,t){t.sendSysex(vn.sysexMfgId,[vn.updateDeviceOptionsMsg].concat(e.toDeviceOptionsSysexArray())),t.sendSysex(vn.sysexMfgId,[vn.updateUSBOptionsMessage].concat(e.toUSBOptionsSysexArray())),t.sendSysex(vn.sysexMfgId,[vn.updateTRSOptionsMessage].concat(e.toTRSOptionsSysexArray()))}static requestConfig(e){e.sendSysex(vn.sysexMfgId,[vn.requestInfoMsg])}static sendFactoryResetRequest(e){e.sendSysex(vn.sysexMfgId,[vn.factoryResetMsg])}}vn.sysexMfgId=[125,0,0],vn.requestInfoMsg=31,vn.updateConfigMsg=14,vn.updateDeviceOptionsMsg=13,vn.updateUSBOptionsMessage=12,vn.updateTRSOptionsMessage=11,vn.factoryResetMsg=26;const yn=[];function In(t,n=e){let r;const s=[];function i(e){if(o(t,e)&&(t=e,r)){const e=!yn.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),yn.push(n,t)}if(e){for(let e=0;e<yn.length;e+=2)yn[e][0](yn[e+1]);yn.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o,a=e){const l=[o,a];return s.push(l),1===s.length&&(r=n(i)||e),o(t),()=>{const e=s.indexOf(l);-1!==e&&s.splice(e,1),0===s.length&&(r(),r=null)}}}}const Sn=In(null),bn=In(null),_n=In([]),wn=In([]),Mn=In(null),Nn=In(null),An=In(null),Rn=In(!1);function xn(t){let n,r;return{c(){n=g("span"),I(n,"class",r="fas fa-"+t[0]+" "+t[1]+" svelte-pvbvkq")},m(e,t){f(e,n,t)},p(e,[t]){3&t&&r!==(r="fas fa-"+e[0]+" "+e[1]+" svelte-pvbvkq")&&I(n,"class",r)},i:e,o:e,d(e){e&&d(n)}}}function Tn(e,t,n){let{i:r}=t,{classList:s=""}=t;return e.$$set=e=>{"i"in e&&n(0,r=e.i),"classList"in e&&n(1,s=e.classList)},[r,s]}class Cn extends oe{constructor(e){super(),se(this,e,Tn,xn,o,{i:0,classList:1})}}function On(e){let t,n;return t=new Cn({props:{i:e[1]}}),{c(){ee(t.$$.fragment)},m(e,r){te(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.i=e[1]),t.$set(r)},i(e){n||(Z(t.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function Dn(e){let t,n,r,s,o,i,a,l=e[1]&&On(e);return{c(){t=g("div"),n=g("button"),l&&l.c(),r=$(),s=E(e[0]),n.disabled=e[2],I(n,"class","svelte-1gcivh1"),I(t,"class","svelte-1gcivh1")},m(c,u){f(c,t,u),p(t,n),l&&l.m(n,null),p(n,r),p(n,s),o=!0,i||(a=y(n,"click",e[3]),i=!0)},p(e,[t]){e[1]?l?(l.p(e,t),2&t&&Z(l,1)):(l=On(e),l.c(),Z(l,1),l.m(n,r)):l&&(z(),Q(l,1,1,(()=>{l=null})),J()),(!o||1&t)&&b(s,e[0]),(!o||4&t)&&(n.disabled=e[2])},i(e){o||(Z(l),o=!0)},o(e){Q(l),o=!1},d(e){e&&d(t),l&&l.d(),i=!1,a()}}}function Ln(e,t,n){let{label:r}=t,{clickMessageName:s=null}=t,{icon:o=null}=t,{disabled:i=!1}=t;const a=O();return e.$$set=e=>{"label"in e&&n(0,r=e.label),"clickMessageName"in e&&n(4,s=e.clickMessageName),"icon"in e&&n(1,o=e.icon),"disabled"in e&&n(2,i=e.disabled)},[r,o,i,function(){a("message",{name:s})},s]}class Pn extends oe{constructor(e){super(),se(this,e,Ln,Dn,o,{label:0,clickMessageName:4,icon:1,disabled:2})}}function Gn(e){let t,n,r,s,o,i,l;const u=e[2].default,h=a(u,e,e[1],null);return{c(){t=g("p"),n=g("label"),r=g("input"),s=$(),h&&h.c(),I(r,"type","checkbox")},m(a,c){f(a,t,c),p(t,n),p(n,r),r.checked=e[0],p(n,s),h&&h.m(n,null),o=!0,i||(l=y(r,"change",e[3]),i=!0)},p(e,[t]){1&t&&(r.checked=e[0]),h&&h.p&&2&t&&c(h,u,e,e[1],t,null,null)},i(e){o||(Z(h,e),o=!0)},o(e){Q(h,e),o=!1},d(e){e&&d(t),h&&h.d(e),i=!1,l()}}}function kn(e,t,n){let{$$slots:r={},$$scope:s}=t,{checked:o}=t;return e.$$set=e=>{"checked"in e&&n(0,o=e.checked),"$$scope"in e&&n(1,s=e.$$scope)},[o,s,r,function(){o=this.checked,n(0,o)}]}class Hn extends oe{constructor(e){super(),se(this,e,kn,Gn,o,{checked:0})}}function Fn(e){let t,n,r,s,o,i=void 0!==e[0].val&&Bn(e);return{c(){t=g("dt"),t.textContent="Value",n=g("dd"),r=g("div"),i&&i.c(),s=$(),o=g("div"),I(t,"class","svelte-5fijw0"),I(o,"class","bar svelte-5fijw0"),w(o,"height",e[0].val+"px"),I(r,"class","inner svelte-5fijw0"),I(n,"class","display svelte-5fijw0")},m(e,a){f(e,t,a),f(e,n,a),p(n,r),i&&i.m(r,null),p(r,s),p(r,o)},p(e,t){void 0!==e[0].val?i?i.p(e,t):(i=Bn(e),i.c(),i.m(r,s)):i&&(i.d(1),i=null),1&t&&w(o,"height",e[0].val+"px")},d(e){e&&d(t),e&&d(n),i&&i.d()}}}function Bn(e){let t,n,r,s=e[0].val+"";return{c(){t=g("span"),n=E(s),I(t,"class",r=u(e[0].val<27?"lowvalue":"")+" svelte-5fijw0")},m(e,r){f(e,t,r),p(t,n)},p(e,o){1&o&&s!==(s=e[0].val+"")&&b(n,s),1&o&&r!==(r=u(e[0].val<27?"lowvalue":"")+" svelte-5fijw0")&&I(t,"class",r)},d(e){e&&d(t)}}}function jn(t){let n,r,s,o,i,a,l,c,u,h=t[1]+1+"",m=t[0].channel+"",$=t[0].cc+"",v=!t[2]&&Fn(t);return{c(){n=g("dl"),r=g("dt"),s=E(h),o=g("dt"),o.textContent="Channel",i=g("dd"),a=E(m),l=g("dt"),l.textContent="CC",c=g("dd"),u=E($),v&&v.c(),I(r,"class","index svelte-5fijw0"),I(o,"class","svelte-5fijw0"),I(i,"class","svelte-5fijw0"),I(l,"class","svelte-5fijw0"),I(c,"class","svelte-5fijw0"),I(n,"class","config-column svelte-5fijw0")},m(e,t){f(e,n,t),p(n,r),p(r,s),p(n,o),p(n,i),p(i,a),p(n,l),p(n,c),p(c,u),v&&v.m(n,null)},p(e,[t]){2&t&&h!==(h=e[1]+1+"")&&b(s,h),1&t&&m!==(m=e[0].channel+"")&&b(a,m),1&t&&$!==($=e[0].cc+"")&&b(u,$),e[2]?v&&(v.d(1),v=null):v?v.p(e,t):(v=Fn(e),v.c(),v.m(n,null))},i:e,o:e,d(e){e&&d(n),v&&v.d()}}}function Un(e,t,n){let{control:r}=t,{index:s}=t,{disableValue:o=!1}=t;return e.$$set=e=>{"control"in e&&n(0,r=e.control),"index"in e&&n(1,s=e.index),"disableValue"in e&&n(2,o=e.disableValue)},[r,s,o]}class Vn extends oe{constructor(e){super(),se(this,e,Un,jn,o,{control:0,index:1,disableValue:2})}}function Yn(e){let t,n,r,s,o,i;function a(t){e[3].call(null,t)}let l={$$slots:{default:[Xn]},$$scope:{ctx:e}};function c(t){e[4].call(null,t)}void 0!==e[0].ledOn&&(l.checked=e[0].ledOn),t=new Hn({props:l}),P.push((()=>K(t,"checked",a)));let u={$$slots:{default:[qn]},$$scope:{ctx:e}};return void 0!==e[0].ledFlash&&(u.checked=e[0].ledFlash),s=new Hn({props:u}),P.push((()=>K(s,"checked",c))),{c(){ee(t.$$.fragment),r=$(),ee(s.$$.fragment)},m(e,n){te(t,e,n),f(e,r,n),te(s,e,n),i=!0},p(e,r){const i={};1024&r&&(i.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,i.checked=e[0].ledOn,j((()=>n=!1))),t.$set(i);const a={};1024&r&&(a.$$scope={dirty:r,ctx:e}),!o&&1&r&&(o=!0,a.checked=e[0].ledFlash,j((()=>o=!1))),s.$set(a)},i(e){i||(Z(t.$$.fragment,e),Z(s.$$.fragment,e),i=!0)},o(e){Q(t.$$.fragment,e),Q(s.$$.fragment,e),i=!1},d(e){ne(t,e),e&&d(r),ne(s,e)}}}function Xn(e){let t;return{c(){t=E("LED permanently on when powered")},m(e,n){f(e,t,n)},d(e){e&&d(t)}}}function qn(e){let t;return{c(){t=E("LED flash on MIDI activity")},m(e,n){f(e,t,n)},d(e){e&&d(t)}}}function Wn(e){let t;return{c(){t=E("Rotate controller 180")},m(e,n){f(e,t,n)},d(e){e&&d(t)}}}function zn(e){let t,n,r;function s(t){e[6].call(null,t)}let o={$$slots:{default:[Jn]},$$scope:{ctx:e}};return void 0!==e[0].midiThru&&(o.checked=e[0].midiThru),t=new Hn({props:o}),P.push((()=>K(t,"checked",s))),{c(){ee(t.$$.fragment)},m(e,n){te(t,e,n),r=!0},p(e,r){const s={};1024&r&&(s.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,s.checked=e[0].midiThru,j((()=>n=!1))),t.$set(s)},i(e){r||(Z(t.$$.fragment,e),r=!0)},o(e){Q(t.$$.fragment,e),r=!1},d(e){ne(t,e)}}}function Jn(e){let t;return{c(){t=E("Soft MIDI thru (echo MIDI clock/note data sent to USB out of the minijack)")},m(e,n){f(e,t,n)},d(e){e&&d(t)}}}function Zn(e){let t,n,s,o,i,a,l,c,u,h,m,E,v,S,b,_,w,N,A;return{c(){t=g("hr"),n=$(),s=g("h3"),s.textContent="I2C Leader/Follower",o=$(),i=g("select"),a=g("option"),a.textContent="Follower",c=g("option"),c.textContent="Leader",h=$(),m=g("p"),m.innerHTML="<strong>Follower</strong> mode is for use with Teletype.",E=$(),v=g("p"),v.innerHTML="<strong>Leader</strong> mode is for use with Ansible, TXo, ER-301. 16n will not respond to Teletype when in leader mode.",S=$(),b=g("p"),b.textContent="This will not take effect until you restart (disconnect/reconnect) your 16n.",_=$(),w=g("p"),w.textContent="(\"Leader\" is sometimes also referred to as 'master' mode)",a.__value=l=!1,a.value=a.__value,c.__value=u=!0,c.value=c.__value,void 0===e[0].i2cMaster&&B((()=>e[9].call(i))),I(m,"class","note svelte-idpdcv"),I(v,"class","note svelte-idpdcv"),I(b,"class","note svelte-idpdcv"),I(w,"class","note small svelte-idpdcv")},m(r,l){f(r,t,l),f(r,n,l),f(r,s,l),f(r,o,l),f(r,i,l),p(i,a),p(i,c),M(i,e[0].i2cMaster),f(r,h,l),f(r,m,l),f(r,E,l),f(r,v,l),f(r,S,l),f(r,b,l),f(r,_,l),f(r,w,l),N||(A=[y(i,"change",e[9]),y(i,"change",e[2])],N=!0)},p(e,t){1&t&&M(i,e[0].i2cMaster)},d(e){e&&d(t),e&&d(n),e&&d(s),e&&d(o),e&&d(i),e&&d(h),e&&d(m),e&&d(E),e&&d(v),e&&d(S),e&&d(b),e&&d(_),e&&d(w),N=!1,r(A)}}}function Qn(e){let t,n,s,o,i,a,l,c,u,h,m,E,b,w,M,N,A,R,x,T,C,O,D,L,G,k,H,F=e[1].device().capabilities.led,B=dn(e[1].firmwareVersion,"2.1.0"),U=e[1].device().capabilities.i2c,V=F&&Yn(e);function Y(t){e[5].call(null,t)}let X={$$slots:{default:[Wn]},$$scope:{ctx:e}};void 0!==e[0].controllerFlip&&(X.checked=e[0].controllerFlip),n=new Hn({props:X}),P.push((()=>K(n,"checked",Y)));let q=B&&zn(e),W=U&&Zn(e);return{c(){V&&V.c(),t=$(),ee(n.$$.fragment),o=$(),q&&q.c(),i=$(),a=g("hr"),l=$(),c=g("h3"),c.textContent="Fader Minimum/Maximum calibration",u=$(),h=g("div"),m=g("label"),m.textContent="Fader Minimum raw value",E=$(),b=g("input"),M=$(),N=g("div"),A=g("label"),A.textContent="Fader Maximum raw value",R=$(),x=g("input"),C=$(),O=g("p"),O.innerHTML="You shouldn&#39;t touch this unless you are having issues with your faders either reaching <code>127</code> before the end of their travel, or not at all.<br/><br/>\n  &quot;Raw&quot; analog values are read from the faders between 0 and 8192. Bring the fader maximum down until all faders smoothly travel from 0 to 127 on the debug view (bearing in mind there is a small dead zone at either end of a fader).",D=$(),W&&W.c(),L=v(),I(m,"for","fadermin"),I(m,"class","svelte-idpdcv"),I(b,"name","fadermin"),I(b,"type","number"),I(b,"min","0"),I(b,"max",w=8191),I(A,"for","fadermax"),I(A,"class","svelte-idpdcv"),I(x,"name","fadermax"),I(x,"type","number"),I(x,"min","0"),I(x,"max",T=8191),I(O,"class","note svelte-idpdcv")},m(r,s){V&&V.m(r,s),f(r,t,s),te(n,r,s),f(r,o,s),q&&q.m(r,s),f(r,i,s),f(r,a,s),f(r,l,s),f(r,c,s),f(r,u,s),f(r,h,s),p(h,m),p(h,E),p(h,b),_(b,e[0].fadermin),f(r,M,s),f(r,N,s),p(N,A),p(N,R),p(N,x),_(x,e[0].fadermax),f(r,C,s),f(r,O,s),f(r,D,s),W&&W.m(r,s),f(r,L,s),G=!0,k||(H=[y(b,"input",e[7]),y(b,"blur",e[2]),y(x,"input",e[8]),y(x,"blur",e[2])],k=!0)},p(e,[r]){2&r&&(F=e[1].device().capabilities.led),F?V?(V.p(e,r),2&r&&Z(V,1)):(V=Yn(e),V.c(),Z(V,1),V.m(t.parentNode,t)):V&&(z(),Q(V,1,1,(()=>{V=null})),J());const o={};1024&r&&(o.$$scope={dirty:r,ctx:e}),!s&&1&r&&(s=!0,o.checked=e[0].controllerFlip,j((()=>s=!1))),n.$set(o),2&r&&(B=dn(e[1].firmwareVersion,"2.1.0")),B?q?(q.p(e,r),2&r&&Z(q,1)):(q=zn(e),q.c(),Z(q,1),q.m(i.parentNode,i)):q&&(z(),Q(q,1,1,(()=>{q=null})),J()),1&r&&S(b.value)!==e[0].fadermin&&_(b,e[0].fadermin),1&r&&S(x.value)!==e[0].fadermax&&_(x,e[0].fadermax),2&r&&(U=e[1].device().capabilities.i2c),U?W?W.p(e,r):(W=Zn(e),W.c(),W.m(L.parentNode,L)):W&&(W.d(1),W=null)},i(e){G||(Z(V),Z(n.$$.fragment,e),Z(q),G=!0)},o(e){Q(V),Q(n.$$.fragment,e),Q(q),G=!1},d(e){V&&V.d(e),e&&d(t),ne(n,e),e&&d(o),q&&q.d(e),e&&d(i),e&&d(a),e&&d(l),e&&d(c),e&&d(u),e&&d(h),e&&d(M),e&&d(N),e&&d(C),e&&d(O),e&&d(D),W&&W.d(e),e&&d(L),k=!1,r(H)}}}function Kn(e,t,n){let r,s;return i(e,bn,(e=>n(0,r=e))),i(e,Sn,(e=>n(1,s=e))),[r,s,function(){bn.update((e=>r))},function(e){r.ledOn=e,bn.set(r)},function(e){r.ledFlash=e,bn.set(r)},function(e){r.controllerFlip=e,bn.set(r)},function(e){r.midiThru=e,bn.set(r)},function(){r.fadermin=S(this.value),bn.set(r)},function(){r.fadermax=S(this.value),bn.set(r)},function(){r.i2cMaster=N(this),bn.set(r)}]}class er extends oe{constructor(e){super(),se(this,e,Kn,Qn,o,{})}}function tr(e,t,n){const r=e.slice();return r[8]=t[n],r}function nr(e){let t,n,r,s=e[8]+"";return{c(){t=g("option"),n=E(s),t.__value=r=e[8],t.value=t.__value},m(e,r){f(e,t,r),p(t,n)},p(e,o){4&o&&s!==(s=e[8]+"")&&b(n,s),4&o&&r!==(r=e[8])&&(t.__value=r,t.value=t.__value)},d(e){e&&d(t)}}}function rr(t){let n,s,o,i,a,l,c,u,h,v,w,N,A=t[1]+1+"",R=t[2],x=[];for(let e=0;e<R.length;e+=1)x[e]=nr(tr(t,R,e));return{c(){n=g("dl"),s=g("dt"),o=E(A),i=g("dt"),i.textContent="Channel",a=g("dd"),l=g("select");for(let e=0;e<x.length;e+=1)x[e].c();c=$(),u=g("dt"),u.textContent="CC",h=g("dd"),v=g("input"),I(s,"class","index svelte-6nh3sy"),I(i,"class","svelte-6nh3sy"),void 0===t[0].channel&&B((()=>t[4].call(l))),I(a,"class","svelte-6nh3sy"),I(u,"class","svelte-6nh3sy"),I(v,"type","number"),I(v,"min","1"),I(v,"max","127"),I(h,"class","svelte-6nh3sy"),I(n,"class","config-column svelte-6nh3sy")},m(e,r){f(e,n,r),p(n,s),p(s,o),p(n,i),p(n,a),p(a,l);for(let e=0;e<x.length;e+=1)x[e].m(l,null);M(l,t[0].channel),p(a,c),p(n,u),p(n,h),p(h,v),_(v,t[0].cc),w||(N=[y(l,"change",t[4]),y(l,"change",t[3]),y(v,"input",t[5]),y(v,"change",t[3])],w=!0)},p(e,[t]){if(2&t&&A!==(A=e[1]+1+"")&&b(o,A),4&t){let n;for(R=e[2],n=0;n<R.length;n+=1){const r=tr(e,R,n);x[n]?x[n].p(r,t):(x[n]=nr(r),x[n].c(),x[n].m(l,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=R.length}5&t&&M(l,e[0].channel),5&t&&S(v.value)!==e[0].cc&&_(v,e[0].cc)},i:e,o:e,d(e){e&&d(n),m(x,e),w=!1,r(N)}}}function sr(e,t,n){let r;i(e,bn,(e=>n(6,r=e)));let{index:s}=t,{editControl:o}=t,a=Array.from(Array(16).keys());a.forEach(((e,t)=>n(2,a[t]=e+1,a)));Array.from(Array(128).keys());return e.$$set=e=>{"index"in e&&n(1,s=e.index),"editControl"in e&&n(0,o=e.editControl)},[o,s,a,function(){bn.update((e=>r))},function(){o.channel=N(this),n(0,o),n(2,a)},function(){o.cc=S(this.value),n(0,o),n(2,a)}]}class or extends oe{constructor(e){super(),se(this,e,sr,rr,o,{index:1,editControl:0})}}function ir(e){let t,n;const r=e[1].default,s=a(r,e,e[0],null);return{c(){t=g("div"),s&&s.c()},m(e,r){f(e,t,r),s&&s.m(t,null),n=!0},p(e,[t]){s&&s.p&&1&t&&c(s,r,e,e[0],t,null,null)},i(e){n||(Z(s,e),n=!0)},o(e){Q(s,e),n=!1},d(e){e&&d(t),s&&s.d(e)}}}function ar(e,t,n){let r,s,o,a,l,c;i(e,Mn,(e=>n(3,r=e))),i(e,Nn,(e=>n(4,s=e))),i(e,Sn,(e=>n(5,o=e))),i(e,_n,(e=>n(6,a=e))),i(e,wn,(e=>n(7,l=e))),i(e,Rn,(e=>n(8,c=e)));let{$$slots:u={},$$scope:p}=t,f=-1;function d(){if(!r&&a.length>0){let e=a.find((e=>e.name.match(/.*16n.*/)));e&&Mn.update((t=>e))}if(!s&&l.length>0){let e=l.find((e=>e.name.match(/.*16n.*/)));e&&Nn.update((t=>e))}!o&&r&&s&&(m(r),g(r),mn("Hearbeat requesting config."),E())}function m(e){e.addListener("controlchange","all",(e=>{var t;t=e,o&&(o.usbControls.forEach((e=>{e.channel==t.channel&&e.cc==t.controller.number&&(e.val=t.value)})),Sn.update((e=>o)))}))}function g(e){e.addListener("sysex","all",(e=>{let t=e.data;if(vn.isOxionSysex(t)){if(15==t[4]){let e=[];t.slice(5,t.length-1).forEach((t=>{e.push(t.toString(16).padStart(2,"0"))})),Sn.update((e=>gn.returnConfigHashFromSysex(t))),mn("Received config",o),f=-1,h(Rn,c=!1,c),document.getElementById("current_config")&&(document.getElementById("current_config").value=e.join(" "))}}else mn("Sysex not for us:",t)})),mn("Attached sysex listener to ",e.name)}function E(){f<0&&(f=Date.now()),Date.now()-f>8e3&&(c||h(Rn,c=!0,c)),r&&s&&(mn("Requesting config over "+s.name),mn("Hoping to receive on "+r.name),vn.requestConfig(s))}return $n.enable((function(e){e?mn("WebMidi could not be enabled.",e):(mn("WebMidi enabled!"),An.update((e=>!0)),mn("Setting up heartbeat"),d(),$n.addListener("connected",(e=>{_n.set(vn.allInputs($n)),wn.set(vn.allOutputs($n)),Mn.update((e=>r)),Nn.update((e=>s)),d()})),$n.addListener("disconnected",(e=>{_n.set(vn.allInputs($n)),wn.set(vn.allOutputs($n)),Mn.update((e=>null)),Nn.update((e=>null)),h(Sn,o=null,o),d()})),setInterval((()=>{d()}),5e3))}),!0),Mn.subscribe((e=>{e&&(a.forEach((e=>{e.removeListener()})),m(e),g(e),Sn.update((e=>null)),E())})),Nn.subscribe((e=>{e&&(Sn.update((e=>null)),E())})),e.$$set=e=>{"$$scope"in e&&n(0,p=e.$$scope)},[p,u]}class lr extends oe{constructor(e){super(),se(this,e,ar,ir,o,{})}}function cr(t){let n,r;return{c(){n=g("p"),r=E(t[0])},m(e,t){f(e,n,t),p(n,r)},p(e,t){1&t&&b(r,e[0])},i:e,o:e,d(e){e&&d(n)}}}function ur(e){let t;const n=e[3].default,r=a(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,t){r&&r.p&&4&t&&c(r,n,e,e[2],t,null,null)},i(e){t||(Z(r,e),t=!0)},o(e){Q(r,e),t=!1},d(e){r&&r.d(e)}}}function hr(e){let t,n,r,s;const o=[ur,cr],i=[];function a(e,t){return e[1]?0:e[0]?1:-1}return~(t=a(e))&&(n=i[t]=o[t](e)),{c(){n&&n.c(),r=v()},m(e,n){~t&&i[t].m(e,n),f(e,r,n),s=!0},p(e,[s]){let l=t;t=a(e),t===l?~t&&i[t].p(e,s):(n&&(z(),Q(i[l],1,1,(()=>{i[l]=null})),J()),~t?(n=i[t],n?n.p(e,s):(n=i[t]=o[t](e),n.c()),Z(n,1),n.m(r.parentNode,r)):n=null)},i(e){s||(Z(n),s=!0)},o(e){Q(n),s=!1},d(e){~t&&i[t].d(e),e&&d(r)}}}function pr(e,t,n){let r;i(e,An,(e=>n(1,r=e)));let{$$slots:s={},$$scope:o}=t,{fallback:a=null}=t;return e.$$set=e=>{"fallback"in e&&n(0,a=e.fallback),"$$scope"in e&&n(2,o=e.$$scope)},[a,r,o,s]}class fr extends oe{constructor(e){super(),se(this,e,pr,hr,o,{fallback:0})}}function dr(e){let t,n,r,s,o,i;const l=e[2].default,u=a(l,e,e[1],null);return{c(){t=g("div"),n=g("h2"),r=E(e[0]),s=$(),o=g("div"),u&&u.c(),I(n,"class","svelte-1o2kpty"),I(o,"class","details svelte-1o2kpty"),I(t,"class","subhead svelte-1o2kpty")},m(e,a){f(e,t,a),p(t,n),p(n,r),p(t,s),p(t,o),u&&u.m(o,null),i=!0},p(e,[t]){(!i||1&t)&&b(r,e[0]),u&&u.p&&2&t&&c(u,l,e,e[1],t,null,null)},i(e){i||(Z(u,e),i=!0)},o(e){Q(u,e),i=!1},d(e){e&&d(t),u&&u.d(e)}}}function mr(e,t,n){let{$$slots:r={},$$scope:s}=t,{title:o}=t;return e.$$set=e=>{"title"in e&&n(0,o=e.title),"$$scope"in e&&n(1,s=e.$$scope)},[o,s,r]}class gr extends oe{constructor(e){super(),se(this,e,mr,dr,o,{title:0})}}function Er(e){let t,n;const r=e[1].default,s=a(r,e,e[0],null);return{c(){t=g("div"),s&&s.c(),I(t,"class","tabs")},m(e,r){f(e,t,r),s&&s.m(t,null),n=!0},p(e,[t]){s&&s.p&&1&t&&c(s,r,e,e[0],t,null,null)},i(e){n||(Z(s,e),n=!0)},o(e){Q(s,e),n=!1},d(e){e&&d(t),s&&s.d(e)}}}const $r={};function vr(e,t,n){let{$$slots:r={},$$scope:s}=t;const o=[],i=[],a=In(null),l=In(null);var c,u;return c=$r,u={registerTab:e=>{o.push(e),a.update((t=>t||e)),C((()=>{const t=o.indexOf(e);o.splice(t,1),a.update((n=>n===e?o[t]||o[o.length-1]:n))}))},registerPanel:e=>{i.push(e),l.update((t=>t||e)),C((()=>{const t=i.indexOf(e);i.splice(t,1),l.update((n=>n===e?i[t]||i[i.length-1]:n))}))},selectTab:e=>{const t=o.indexOf(e);a.set(e),l.set(i[t])},selectedTab:a,selectedPanel:l},T().$$.context.set(c,u),e.$$set=e=>{"$$scope"in e&&n(0,s=e.$$scope)},[s,r]}class yr extends oe{constructor(e){super(),se(this,e,vr,Er,o,{})}}function Ir(e){let t,n;const r=e[1].default,s=a(r,e,e[0],null);return{c(){t=g("div"),s&&s.c(),I(t,"class","tab-list svelte-w6hq5a")},m(e,r){f(e,t,r),s&&s.m(t,null),n=!0},p(e,[t]){s&&s.p&&1&t&&c(s,r,e,e[0],t,null,null)},i(e){n||(Z(s,e),n=!0)},o(e){Q(s,e),n=!1},d(e){e&&d(t),s&&s.d(e)}}}function Sr(e,t,n){let{$$slots:r={},$$scope:s}=t;return e.$$set=e=>{"$$scope"in e&&n(0,s=e.$$scope)},[s,r]}class br extends oe{constructor(e){super(),se(this,e,Sr,Ir,o,{})}}function _r(e){let t;const n=e[4].default,r=a(n,e,e[3],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,t){r&&r.p&&8&t&&c(r,n,e,e[3],t,null,null)},i(e){t||(Z(r,e),t=!0)},o(e){Q(r,e),t=!1},d(e){r&&r.d(e)}}}function wr(e){let t,n,r=e[0]===e[1]&&_r(e);return{c(){r&&r.c(),t=v()},m(e,s){r&&r.m(e,s),f(e,t,s),n=!0},p(e,[n]){e[0]===e[1]?r?(r.p(e,n),1&n&&Z(r,1)):(r=_r(e),r.c(),Z(r,1),r.m(t.parentNode,t)):r&&(z(),Q(r,1,1,(()=>{r=null})),J())},i(e){n||(Z(r),n=!0)},o(e){Q(r),n=!1},d(e){r&&r.d(e),e&&d(t)}}}function Mr(e,t,n){let r,{$$slots:s={},$$scope:o}=t;const a={},{registerPanel:l,selectedPanel:c}=D($r);return i(e,c,(e=>n(0,r=e))),l(a),e.$$set=e=>{"$$scope"in e&&n(3,o=e.$$scope)},[r,a,c,o,s]}class Nr extends oe{constructor(e){super(),se(this,e,Mr,wr,o,{})}}function Ar(e){let t,n,r,s;const o=e[5].default,i=a(o,e,e[4],null);return{c(){t=g("button"),i&&i.c(),I(t,"class","svelte-1y3smnx"),A(t,"selected",e[0]===e[1])},m(o,a){f(o,t,a),i&&i.m(t,null),n=!0,r||(s=y(t,"click",e[6]),r=!0)},p(e,[n]){i&&i.p&&16&n&&c(i,o,e,e[4],n,null,null),3&n&&A(t,"selected",e[0]===e[1])},i(e){n||(Z(i,e),n=!0)},o(e){Q(i,e),n=!1},d(e){e&&d(t),i&&i.d(e),r=!1,s()}}}function Rr(e,t,n){let r,{$$slots:s={},$$scope:o}=t;const a={},{registerTab:l,selectTab:c,selectedTab:u}=D($r);i(e,u,(e=>n(0,r=e))),l(a);return e.$$set=e=>{"$$scope"in e&&n(4,o=e.$$scope)},[r,a,c,u,o,s,()=>c(a)]}class xr extends oe{constructor(e){super(),se(this,e,Rr,Ar,o,{})}}function Tr(e,t,n){const r=e.slice();return r[16]=t[n],r[14]=n,r}function Cr(e,t,n){const r=e.slice();return r[16]=t[n],r[14]=n,r}function Or(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function Dr(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function Lr(t){let n;return{c(){n=g("p"),n.textContent="No device connected.",I(n,"class","device svelte-1ul7wlp")},m(e,t){f(e,n,t)},p:e,d(e){e&&d(n)}}}function Pr(e){let t,n,r,s,o,i,a,l,c=e[3].device().name+"",u=e[3].firmwareVersion+"",h=""!=e[2].trim(),m=h&&Gr(e);return{c(){t=g("p"),n=E("Connected: "),r=g("strong"),s=E(c),o=E(" running firmware "),i=g("strong"),a=E(u),l=$(),m&&m.c(),I(t,"class","device svelte-1ul7wlp")},m(e,c){f(e,t,c),p(t,n),p(t,r),p(r,s),p(t,o),p(t,i),p(i,a),p(t,l),m&&m.m(t,null)},p(e,n){8&n&&c!==(c=e[3].device().name+"")&&b(s,c),8&n&&u!==(u=e[3].firmwareVersion+"")&&b(a,u),4&n&&(h=""!=e[2].trim()),h?m?m.p(e,n):(m=Gr(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null)},d(e){e&&d(t),m&&m.d()}}}function Gr(e){let t,n,r,s;return{c(){t=g("span"),n=E(e[2]),r=$(),s=g("a"),s.textContent="Download",I(s,"href","https://github.com/16n-faderbank/16n/releases"),I(t,"class","upgrade svelte-1ul7wlp")},m(e,o){f(e,t,o),p(t,n),p(t,r),p(t,s)},p(e,t){4&t&&b(n,e[2])},d(e){e&&d(t)}}}function kr(e){let t;function n(e,t){return e[3]?Pr:Lr}let r=n(e),s=r(e);return{c(){t=g("div"),s.c(),I(t,"class","details svelte-1ul7wlp")},m(e,n){f(e,t,n),s.m(t,null)},p(e,o){r===(r=n(e))&&s?s.p(e,o):(s.d(1),s=r(e),s&&(s.c(),s.m(t,null)))},d(e){e&&d(t),s.d()}}}function Hr(t){let n;return{c(){n=g("p"),n.textContent="Connect a controller via USB."},m(e,t){f(e,n,t)},p:e,i:e,o:e,d(e){e&&d(n)}}}function Fr(t){let n,r,s,o;return s=new Pn({props:{label:"Click to reset your 16n's EEPROM to factory defaults",clickMessageName:"transmitFactoryReset"}}),s.$on("message",t[6]),{c(){n=g("p"),n.textContent="It looks like a 16n is trying to connect, but may have a corrupt memory.",r=$(),ee(s.$$.fragment)},m(e,t){f(e,n,t),f(e,r,t),te(s,e,t),o=!0},p:e,i(e){o||(Z(s.$$.fragment,e),o=!0)},o(e){Q(s.$$.fragment,e),o=!1},d(e){e&&d(n),e&&d(r),ne(s,e)}}}function Br(e){let t,n,r,s,o;const i=[Ur,jr],a=[];function l(e,t){return e[0]?0:1}return t=l(e),n=a[t]=i[t](e),{c(){n.c(),r=$(),s=g("p")},m(e,n){a[t].m(e,n),f(e,r,n),f(e,s,n),o=!0},p(e,s){let o=t;t=l(e),t===o?a[t].p(e,s):(z(),Q(a[o],1,1,(()=>{a[o]=null})),J(),n=a[t],n?n.p(e,s):(n=a[t]=i[t](e),n.c()),Z(n,1),n.m(r.parentNode,r))},i(e){o||(Z(n),o=!0)},o(e){Q(n),o=!1},d(e){a[t].d(e),e&&d(r),e&&d(s)}}}function jr(e){let t,n,r,s;return t=new gr({props:{title:"Current Configuration",$$slots:{default:[Vr]},$$scope:{ctx:e}}}),r=new yr({props:{$$slots:{default:[es]},$$scope:{ctx:e}}}),{c(){ee(t.$$.fragment),n=$(),ee(r.$$.fragment)},m(e,o){te(t,e,o),f(e,n,o),te(r,e,o),s=!0},p(e,n){const s={};524288&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};524296&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){s||(Z(t.$$.fragment,e),Z(r.$$.fragment,e),s=!0)},o(e){Q(t.$$.fragment,e),Q(r.$$.fragment,e),s=!1},d(e){ne(t,e),e&&d(n),ne(r,e)}}}function Ur(e){let t,n,r,s;return t=new gr({props:{title:"Edit Configuration",$$slots:{default:[ts]},$$scope:{ctx:e}}}),r=new yr({props:{$$slots:{default:[fs]},$$scope:{ctx:e}}}),{c(){ee(t.$$.fragment),n=$(),ee(r.$$.fragment)},m(e,o){te(t,e,o),f(e,n,o),te(r,e,o),s=!0},p(e,n){const s={};524290&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};524312&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){s||(Z(t.$$.fragment,e),Z(r.$$.fragment,e),s=!0)},o(e){Q(t.$$.fragment,e),Q(r.$$.fragment,e),s=!1},d(e){ne(t,e),e&&d(n),ne(r,e)}}}function Vr(t){let n,r,s,o;return n=new Pn({props:{label:"Export current config",icon:"file-export",clickMessageName:"exportConfig"}}),n.$on("message",t[6]),s=new Pn({props:{label:"Edit Config",icon:"pencil-alt",clickMessageName:"toggleEditMode"}}),s.$on("message",t[6]),{c(){ee(n.$$.fragment),r=$(),ee(s.$$.fragment)},m(e,t){te(n,e,t),f(e,r,t),te(s,e,t),o=!0},p:e,i(e){o||(Z(n.$$.fragment,e),Z(s.$$.fragment,e),o=!0)},o(e){Q(n.$$.fragment,e),Q(s.$$.fragment,e),o=!1},d(e){ne(n,e),e&&d(r),ne(s,e)}}}function Yr(e){let t;return{c(){t=E("USB")},m(e,n){f(e,t,n)},d(e){e&&d(t)}}}function Xr(e){let t;return{c(){t=E("TRS Jack")},m(e,n){f(e,t,n)},d(e){e&&d(t)}}}function qr(e){let t,n,r,s;return t=new xr({props:{$$slots:{default:[Yr]},$$scope:{ctx:e}}}),r=new xr({props:{$$slots:{default:[Xr]},$$scope:{ctx:e}}}),{c(){ee(t.$$.fragment),n=$(),ee(r.$$.fragment)},m(e,o){te(t,e,o),f(e,n,o),te(r,e,o),s=!0},p(e,n){const s={};524288&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};524288&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){s||(Z(t.$$.fragment,e),Z(r.$$.fragment,e),s=!0)},o(e){Q(t.$$.fragment,e),Q(r.$$.fragment,e),s=!1},d(e){ne(t,e),e&&d(n),ne(r,e)}}}function Wr(e){let t,n;return t=new Vn({props:{control:e[16],index:e[14]}}),{c(){ee(t.$$.fragment)},m(e,r){te(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.control=e[16]),t.$set(r)},i(e){n||(Z(t.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function zr(e){let t,n,r=e[14]<e[3].device().controlCount,s=r&&Wr(e);return{c(){s&&s.c(),t=v()},m(e,r){s&&s.m(e,r),f(e,t,r),n=!0},p(e,n){8&n&&(r=e[14]<e[3].device().controlCount),r?s?(s.p(e,n),8&n&&Z(s,1)):(s=Wr(e),s.c(),Z(s,1),s.m(t.parentNode,t)):s&&(z(),Q(s,1,1,(()=>{s=null})),J())},i(e){n||(Z(s),n=!0)},o(e){Q(s),n=!1},d(e){s&&s.d(e),e&&d(t)}}}function Jr(e){let t,n,r=e[3].usbControls,s=[];for(let t=0;t<r.length;t+=1)s[t]=zr(Cr(e,r,t));const o=e=>Q(s[e],1,1,(()=>{s[e]=null}));return{c(){t=g("div");for(let e=0;e<s.length;e+=1)s[e].c();I(t,"id","controls"),I(t,"class","svelte-1ul7wlp")},m(e,r){f(e,t,r);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0},p(e,n){if(8&n){let i;for(r=e[3].usbControls,i=0;i<r.length;i+=1){const o=Cr(e,r,i);s[i]?(s[i].p(o,n),Z(s[i],1)):(s[i]=zr(o),s[i].c(),Z(s[i],1),s[i].m(t,null))}for(z(),i=r.length;i<s.length;i+=1)o(i);J()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Z(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)Q(s[e]);n=!1},d(e){e&&d(t),m(s,e)}}}function Zr(e){let t,n;return t=new Vn({props:{control:e[16],index:e[14],disableValue:!0}}),{c(){ee(t.$$.fragment)},m(e,r){te(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.control=e[16]),t.$set(r)},i(e){n||(Z(t.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function Qr(e){let t,n,r=e[14]<e[3].device().controlCount,s=r&&Zr(e);return{c(){s&&s.c(),t=v()},m(e,r){s&&s.m(e,r),f(e,t,r),n=!0},p(e,n){8&n&&(r=e[14]<e[3].device().controlCount),r?s?(s.p(e,n),8&n&&Z(s,1)):(s=Zr(e),s.c(),Z(s,1),s.m(t.parentNode,t)):s&&(z(),Q(s,1,1,(()=>{s=null})),J())},i(e){n||(Z(s),n=!0)},o(e){Q(s),n=!1},d(e){s&&s.d(e),e&&d(t)}}}function Kr(e){let t,n,r,s,o=e[3].trsControls,i=[];for(let t=0;t<o.length;t+=1)i[t]=Qr(Tr(e,o,t));const a=e=>Q(i[e],1,1,(()=>{i[e]=null}));return{c(){t=g("div");for(let e=0;e<i.length;e+=1)i[e].c();n=$(),r=g("p"),r.textContent="There is no realtime preview of the TRS outputs.",I(t,"id","controls"),I(t,"class","svelte-1ul7wlp")},m(e,o){f(e,t,o);for(let e=0;e<i.length;e+=1)i[e].m(t,null);f(e,n,o),f(e,r,o),s=!0},p(e,n){if(8&n){let r;for(o=e[3].trsControls,r=0;r<o.length;r+=1){const s=Tr(e,o,r);i[r]?(i[r].p(s,n),Z(i[r],1)):(i[r]=Qr(s),i[r].c(),Z(i[r],1),i[r].m(t,null))}for(z(),r=o.length;r<i.length;r+=1)a(r);J()}},i(e){if(!s){for(let e=0;e<o.length;e+=1)Z(i[e]);s=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Q(i[e]);s=!1},d(e){e&&d(t),m(i,e),e&&d(n),e&&d(r)}}}function es(e){let t,n,r,s,o,i;return t=new br({props:{$$slots:{default:[qr]},$$scope:{ctx:e}}}),r=new Nr({props:{$$slots:{default:[Jr]},$$scope:{ctx:e}}}),o=new Nr({props:{$$slots:{default:[Kr]},$$scope:{ctx:e}}}),{c(){ee(t.$$.fragment),n=$(),ee(r.$$.fragment),s=$(),ee(o.$$.fragment)},m(e,a){te(t,e,a),f(e,n,a),te(r,e,a),f(e,s,a),te(o,e,a),i=!0},p(e,n){const s={};524288&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const i={};524296&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const a={};524296&n&&(a.$$scope={dirty:n,ctx:e}),o.$set(a)},i(e){i||(Z(t.$$.fragment,e),Z(r.$$.fragment,e),Z(o.$$.fragment,e),i=!0)},o(e){Q(t.$$.fragment,e),Q(r.$$.fragment,e),Q(o.$$.fragment,e),i=!1},d(e){ne(t,e),e&&d(n),ne(r,e),e&&d(s),ne(o,e)}}}function ts(e){let t,n,r,s,o,i;return t=new Pn({props:{label:"Cancel",icon:"times",clickMessageName:"toggleEditMode"}}),t.$on("message",e[6]),r=new Pn({props:{label:"Import config",icon:"file-import",clickMessageName:"importConfig"}}),r.$on("message",e[6]),o=new Pn({props:{label:"Update controller",icon:"download",clickMessageName:"transmitConfig",disabled:!e[1]}}),o.$on("message",e[6]),{c(){ee(t.$$.fragment),n=$(),ee(r.$$.fragment),s=$(),ee(o.$$.fragment)},m(e,a){te(t,e,a),f(e,n,a),te(r,e,a),f(e,s,a),te(o,e,a),i=!0},p(e,t){const n={};2&t&&(n.disabled=!e[1]),o.$set(n)},i(e){i||(Z(t.$$.fragment,e),Z(r.$$.fragment,e),Z(o.$$.fragment,e),i=!0)},o(e){Q(t.$$.fragment,e),Q(r.$$.fragment,e),Q(o.$$.fragment,e),i=!1},d(e){ne(t,e),e&&d(n),ne(r,e),e&&d(s),ne(o,e)}}}function ns(e){let t;return{c(){t=E("USB")},m(e,n){f(e,t,n)},d(e){e&&d(t)}}}function rs(e){let t;return{c(){t=E("TRS Jack")},m(e,n){f(e,t,n)},d(e){e&&d(t)}}}function ss(e){let t;return{c(){t=E("Device Options")},m(e,n){f(e,t,n)},d(e){e&&d(t)}}}function os(e){let t,n,r,s,o,i;return t=new xr({props:{$$slots:{default:[ns]},$$scope:{ctx:e}}}),r=new xr({props:{$$slots:{default:[rs]},$$scope:{ctx:e}}}),o=new xr({props:{$$slots:{default:[ss]},$$scope:{ctx:e}}}),{c(){ee(t.$$.fragment),n=$(),ee(r.$$.fragment),s=$(),ee(o.$$.fragment)},m(e,a){te(t,e,a),f(e,n,a),te(r,e,a),f(e,s,a),te(o,e,a),i=!0},p(e,n){const s={};524288&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const i={};524288&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const a={};524288&n&&(a.$$scope={dirty:n,ctx:e}),o.$set(a)},i(e){i||(Z(t.$$.fragment,e),Z(r.$$.fragment,e),Z(o.$$.fragment,e),i=!0)},o(e){Q(t.$$.fragment,e),Q(r.$$.fragment,e),Q(o.$$.fragment,e),i=!1},d(e){ne(t,e),e&&d(n),ne(r,e),e&&d(s),ne(o,e)}}}function is(e){let t,n;return t=new or({props:{editControl:e[12],index:e[14]}}),{c(){ee(t.$$.fragment)},m(e,r){te(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.editControl=e[12]),t.$set(r)},i(e){n||(Z(t.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function as(e){let t,n,r=e[14]<e[3].device().controlCount,s=r&&is(e);return{c(){s&&s.c(),t=v()},m(e,r){s&&s.m(e,r),f(e,t,r),n=!0},p(e,n){8&n&&(r=e[14]<e[3].device().controlCount),r?s?(s.p(e,n),8&n&&Z(s,1)):(s=is(e),s.c(),Z(s,1),s.m(t.parentNode,t)):s&&(z(),Q(s,1,1,(()=>{s=null})),J())},i(e){n||(Z(s),n=!0)},o(e){Q(s),n=!1},d(e){s&&s.d(e),e&&d(t)}}}function ls(e){let t,n,r=e[4].usbControls,s=[];for(let t=0;t<r.length;t+=1)s[t]=as(Dr(e,r,t));const o=e=>Q(s[e],1,1,(()=>{s[e]=null}));return{c(){t=g("div");for(let e=0;e<s.length;e+=1)s[e].c();I(t,"id","controls"),I(t,"class","svelte-1ul7wlp")},m(e,r){f(e,t,r);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0},p(e,n){if(24&n){let i;for(r=e[4].usbControls,i=0;i<r.length;i+=1){const o=Dr(e,r,i);s[i]?(s[i].p(o,n),Z(s[i],1)):(s[i]=as(o),s[i].c(),Z(s[i],1),s[i].m(t,null))}for(z(),i=r.length;i<s.length;i+=1)o(i);J()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Z(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)Q(s[e]);n=!1},d(e){e&&d(t),m(s,e)}}}function cs(e){let t,n;return t=new or({props:{editControl:e[12],index:e[14]}}),{c(){ee(t.$$.fragment)},m(e,r){te(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.editControl=e[12]),t.$set(r)},i(e){n||(Z(t.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function us(e){let t,n,r=e[14]<e[3].device().controlCount,s=r&&cs(e);return{c(){s&&s.c(),t=v()},m(e,r){s&&s.m(e,r),f(e,t,r),n=!0},p(e,n){8&n&&(r=e[14]<e[3].device().controlCount),r?s?(s.p(e,n),8&n&&Z(s,1)):(s=cs(e),s.c(),Z(s,1),s.m(t.parentNode,t)):s&&(z(),Q(s,1,1,(()=>{s=null})),J())},i(e){n||(Z(s),n=!0)},o(e){Q(s),n=!1},d(e){s&&s.d(e),e&&d(t)}}}function hs(e){let t,n,r=e[4].trsControls,s=[];for(let t=0;t<r.length;t+=1)s[t]=us(Or(e,r,t));const o=e=>Q(s[e],1,1,(()=>{s[e]=null}));return{c(){t=g("div");for(let e=0;e<s.length;e+=1)s[e].c();I(t,"id","controls"),I(t,"class","svelte-1ul7wlp")},m(e,r){f(e,t,r);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0},p(e,n){if(24&n){let i;for(r=e[4].trsControls,i=0;i<r.length;i+=1){const o=Or(e,r,i);s[i]?(s[i].p(o,n),Z(s[i],1)):(s[i]=us(o),s[i].c(),Z(s[i],1),s[i].m(t,null))}for(z(),i=r.length;i<s.length;i+=1)o(i);J()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Z(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)Q(s[e]);n=!1},d(e){e&&d(t),m(s,e)}}}function ps(e){let t,n;return t=new er({}),{c(){ee(t.$$.fragment)},m(e,r){te(t,e,r),n=!0},i(e){n||(Z(t.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function fs(e){let t,n,r,s,o,i,a,l;return t=new br({props:{$$slots:{default:[os]},$$scope:{ctx:e}}}),r=new Nr({props:{$$slots:{default:[ls]},$$scope:{ctx:e}}}),o=new Nr({props:{$$slots:{default:[hs]},$$scope:{ctx:e}}}),a=new Nr({props:{$$slots:{default:[ps]},$$scope:{ctx:e}}}),{c(){ee(t.$$.fragment),n=$(),ee(r.$$.fragment),s=$(),ee(o.$$.fragment),i=$(),ee(a.$$.fragment)},m(e,c){te(t,e,c),f(e,n,c),te(r,e,c),f(e,s,c),te(o,e,c),f(e,i,c),te(a,e,c),l=!0},p(e,n){const s={};524288&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const i={};524312&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const l={};524312&n&&(l.$$scope={dirty:n,ctx:e}),o.$set(l);const c={};524288&n&&(c.$$scope={dirty:n,ctx:e}),a.$set(c)},i(e){l||(Z(t.$$.fragment,e),Z(r.$$.fragment,e),Z(o.$$.fragment,e),Z(a.$$.fragment,e),l=!0)},o(e){Q(t.$$.fragment,e),Q(r.$$.fragment,e),Q(o.$$.fragment,e),Q(a.$$.fragment,e),l=!1},d(e){ne(t,e),e&&d(n),ne(r,e),e&&d(s),ne(o,e),e&&d(i),ne(a,e)}}}function ds(e){let t,n,r,s;const o=[Br,Fr,Hr],i=[];function a(e,t){return e[3]?0:e[5]?1:2}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),r=v()},m(e,n){i[t].m(e,n),f(e,r,n),s=!0},p(e,s){let l=t;t=a(e),t===l?i[t].p(e,s):(z(),Q(i[l],1,1,(()=>{i[l]=null})),J(),n=i[t],n?n.p(e,s):(n=i[t]=o[t](e),n.c()),Z(n,1),n.m(r.parentNode,r))},i(e){s||(Z(n),s=!0)},o(e){Q(n),s=!1},d(e){i[t].d(e),e&&d(r)}}}function ms(e){let t,n,r,s,o,i,a,l,c,u,h;return o=new fr({props:{$$slots:{default:[kr]},$$scope:{ctx:e}}}),a=new fr({props:{fallback:"WebMIDI could not be enabled. Please use a web browser that supports WebMIDI, such as Google Chrome.",$$slots:{default:[ds]},$$scope:{ctx:e}}}),{c(){t=g("main"),n=g("div"),r=g("h1"),r.textContent="16n configuration tool",s=$(),ee(o.$$.fragment),i=$(),ee(a.$$.fragment),l=$(),c=g("div"),u=g("div"),u.textContent="16n Editor v1.2.0",I(r,"class","svelte-1ul7wlp"),I(n,"id","head"),I(n,"class","svelte-1ul7wlp"),I(u,"class","foot-left svelte-1ul7wlp"),I(c,"id","foot"),I(c,"class","svelte-1ul7wlp"),I(t,"class","svelte-1ul7wlp")},m(e,d){f(e,t,d),p(t,n),p(n,r),p(n,s),te(o,n,null),p(t,i),te(a,t,null),p(t,l),p(t,c),p(c,u),h=!0},p(e,t){const n={};524300&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);const r={};524347&t&&(r.$$scope={dirty:t,ctx:e}),a.$set(r)},i(e){h||(Z(o.$$.fragment,e),Z(a.$$.fragment,e),h=!0)},o(e){Q(o.$$.fragment,e),Q(a.$$.fragment,e),h=!1},d(e){e&&d(t),ne(o),ne(a)}}}function gs(e){let t,n;return t=new lr({props:{$$slots:{default:[ms]},$$scope:{ctx:e}}}),{c(){ee(t.$$.fragment)},m(e,r){te(t,e,r),n=!0},p(e,[n]){const r={};524351&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Z(t.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function Es(e,t,n){let r,s,o,a;i(e,Sn,(e=>n(3,r=e))),i(e,Nn,(e=>n(7,s=e))),i(e,bn,(e=>n(4,o=e))),i(e,Rn,(e=>n(5,a=e)));let l=!1,c=!1,u="";return bn.subscribe((e=>{e&&r&&n(1,c=!e.isEquivalent(r))})),Sn.subscribe((e=>{e&&e.firmwareVersion&&window.latestVersion&&!window.versionCompared&&(window.versionCompared=!0,fn(window.latestVersion,e.firmwareVersion)?n(2,u=`A new version of the 16n firmware (${window.latestVersion}) is available.`):n(2,u=""))})),fetch("https://api.github.com/repos/16n-faderbank/16n/releases").then((e=>e.json())).then((e=>{window.latestVersion=e[0].tag_name.replace(/[a-zA-z]/g,"")})).catch((e=>mn(e))),[l,c,u,r,o,a,function(e){switch(e.detail.name){case"toggleEditMode":!function(){if(n(0,l=!l),l){let e=gn.clone(r);bn.update((t=>e))}}();break;case"transmitConfig":mn("Sending sysex:",o.toSysexArray()),vn.sendConfiguration(o,s),h(Sn,r=o,r),n(0,l=!l);break;case"requestConfig":vn.requestConfig(s);break;case"importConfig":En.import(o,r,bn);break;case"exportConfig":En.export(r);break;case"transmitFactoryReset":mn("Sending factory reset request"),vn.sendFactoryResetRequest(s)}}]}return new class extends oe{constructor(e){super(),se(this,e,Es,gs,o,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
